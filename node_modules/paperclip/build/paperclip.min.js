(function(){var w={},m={},y=function(j){if(w[j])return w[j];var h={exports:{}},g=m[j];if(!g){try{return require(j)}catch(b){}throw Error("unable to load "+j);}return w[j]=h.exports=g(y,h,h.exports,j)},z=function(j,h){m[j]=h};"undefined"==typeof global&&(global=window);"undefined"==typeof window&&(global.window=global);"undefined"==typeof window.process&&(window.process={});m["paperclip/lib/index.js"]=function(j,h){var g,b;g=j("paperclip/lib/clip/index.js");b=j("paperclip/lib/paper/index.js");h.exports.Clip=
g;h.exports.paper=b;h.exports.Context=b.Context;h.exports.bindable=j("bindable/lib/index.js");"undefined"!==typeof window&&(window.paperclip=h.exports);return h.exports};m["paperclip/lib/clip/index.js"]=function(j,h){var g,b,c,a,d={}.hasOwnProperty;c=j("dref/lib/index.js");a=j("events/index.js");g=j("bindable/lib/index.js");b=j("paperclip/lib/clip/modifiers/index.js");var f=function(a){this.watcher=a;this._commands=[];this.clip=this.watcher.clip};f.prototype.__isPropertyChain=!0;f.prototype.ref=function(a){this._commands.push({ref:a});
return this};f.prototype.castAs=function(a){this.watcher.cast[a]=this;return this};f.prototype.path=function(){var a,d,c,b,f;d=[];f=this._commands;c=0;for(b=f.length;c<b;c++)a=f[c],d.push(a.ref);return d.join(".")};f.prototype.self=function(a){this._self=!0;this.ref(a);return this};f.prototype.call=function(a,d){this._commands.push({ref:a,args:d});return this};f.prototype.exec=function(){this.currentValue=this.value();return this};f.prototype.value=function(a){var d,b,f,k,e,n,p,g;f=arguments.length;
b=this._self?this.clip:this.clip.data;e=this._commands.length;g=this._commands;k=n=0;for(p=g.length;n<p&&!(d=g[k],this.watcher._watch(d.ref,b),k===e-1&&f&&(b.set?b.set(d.ref,a):c.set(b,d.ref,a)),k=b,b=b.get?b.get(d.ref):c.get(b,d.ref),d.args&&(b=b&&"function"===typeof b?null!=b?b.apply(k,d.args):void 0:void 0),!b);k=++n);this.watcher.currentRef=this;return b};var e=function(a,d){this.script=a;this.clip=d;var c=this.update,f=this;this.update=function(){return c.apply(f,arguments)};this.modifiers=this.clip.modifiers;
this.defaultModifiers=b;this.options=this.clip.options;this._watching={};this.cast={}};a=a.EventEmitter;var k=function(){this.constructor=e},n;for(n in a)d.call(a,n)&&(e[n]=a[n]);k.prototype=a.prototype;e.prototype=new k;e.__super__=a.prototype;e.prototype.dispose=function(){for(var a in this._watching)this._watching[a].binding.dispose();return this._watching={}};e.prototype.update=function(){var a;a=this.script.fn.call(this);if(a===this.value)return a;this.emit("change",this.value=a);return a};e.prototype.watch=
function(){this.__watch=!0;this.update();return this};e.prototype.references=function(){if(!this.script.refs)return[]};e.prototype.ref=function(a){return(new f(this)).ref(a)};e.prototype.self=function(a){return(new f(this)).self(a)};e.prototype.call=function(a,d){return(new f(this)).call(a,d)};e.prototype.castAs=function(a){return(new f(this)).castAs(a)};e.prototype._watch=function(a,d){if(this.__watch){if(this._watching[a]){if(this._watching[a].target===d)return;this._watching[a].binding.dispose()}return this._watching[a]=
{target:d,binding:d.bind(a).watch(!0).to(this.update)}}};var p=function(a,d){this.clip=a;this._scripts={};this.names=[];this._bindScripts(d)};p.prototype.watch=function(){for(var a in this._scripts)this._scripts[a].watch();return this};p.prototype.update=function(){for(var a in this._scripts)this._scripts[a].update();return this};p.prototype.dispose=function(){for(var a in this._scripts)this._scripts[a].dispose();return this._scripts={}};p.prototype.get=function(a){return this._scripts[a]};p.prototype._bindScripts=
function(a){var d,c;if(a.fn)return this._bindScript("value",a);c=[];for(d in a)c.push(this._bindScript(d,a[d]));return c};p.prototype._bindScript=function(a,d){var c,b=this;this.names.push(a);c=new e(d,this.clip);this._scripts[a]=c;return c.on("change",function(d){return b.clip.set(a,d)})};d=function(a){var d;this.options=a;this._self=new g.Object;this.reset(a.data,!1);this.modifiers=a.modifiers||{};if(d=this.options.scripts||this.options.script)this.scripts=new p(this,d);!1!==a.watch&&this.watch()};
d.prototype.reset=function(a,d){null==a&&(a={});null==d&&(d=!0);this.data=a.__isBindable?a:new g.Object(a);d&&this.update();return this};d.prototype.watch=function(){this.scripts.watch();return this};d.prototype.update=function(){this.scripts.update();return this};d.prototype.dispose=function(){var a,d;null!=(a=this._self)&&a.dispose();null!=(d=this.scripts)&&d.dispose();return this._scripts=this._self=void 0};d.prototype.script=function(a){return this.scripts.get(a)};d.prototype.get=function(){var a;
return(a=this._self).get.apply(a,arguments)};d.prototype.set=function(){var a;return(a=this._self).set.apply(a,arguments)};d.prototype.bind=function(){var a;return(a=this._self).bind.apply(a,arguments)};h.exports=d;h.exports.modifiers=b;return h.exports};m["paperclip/lib/paper/index.js"]=function(j,h){var g,b,c;g=j("paperclip/lib/paper/context.js");b=j("paperclip/lib/paper/nodes/html.js");j("pilot-block/lib/index.js");c=j("asyngleton/lib/index.js");var a=function(a){this.factory=a;this.node=this.factory(this)};
a.prototype.load=c(function(a,c){return this.node.load(a,c)});a.prototype.attach=function(a,c,b){null==b&&(b=function(){});return this.node.attach(a,c,b)};a.prototype.create=function(){return new b};h.exports=function(d){return new a(d)};h.exports.Context=g;return h.exports};m["bindable/lib/index.js"]=function(j,h,g){var b;b=j("bindable/lib/object/binding.js");g.Object=j("bindable/lib/object/index.js");g.Collection=j("bindable/lib/collection/index.js");g.EventEmitter=j("bindable/lib/core/eventEmitter.js");
b.Collection=g.Collection;return h.exports};m["dref/lib/index.js"]=function(j,h,g){var b=global._gss=global._gss||[],c=j("type-component/index.js"),a=function(a){for(var d=b.length;d--;){var c=b[d];if(c.test(a))return c}},d=function(d,c){var b=a(d);return b?b.get(d,c):d[c]},f=function(d,c,b){var f=a(d);return f?f.set(d,c,b):d[c]=b},e=function(b,n,p,g,h){h||(b=("array"===c(b)?b:b.split(".")).filter(function(a){return!!a.length}),h=[],g=0);for(var j,r,u=b.length;g<u;g++){r=b[g];j=d(n,r);if("$"==r){j=
n;for(j=(u=a(j))?u.length(j):j.length;j--;)e(b,d(n,j),p,g+1,h);return h}if(void 0==j||null==j){if(!p)return h;f(n,r,{});j=d(n,r)}n=j}j?h.push(j):h.push(n);return h};g.get=function(a,d){d=String(d);var c=e(d,a);return-1==d.indexOf(".$.")?c[0]:c};g.set=function(a,d,c){d=String(d);var b=d.split(".");d=b.pop();"$"==d&&(d=b.pop());a=e(b,a,!0);for(b=a.length;b--;)f(a[b],d,c)};g.use=function(a){b.push(a)};return h.exports};m["events/index.js"]=function(j,h,g){function b(){}var c=Array.isArray;g.EventEmitter=
b;b.prototype.setMaxListeners=function(a){this._events||(this._events={});this._events.maxListeners=a};b.prototype.emit=function(){var a=arguments[0];if("error"===a&&(!this._events||!this._events.error||c(this._events.error)&&!this._events.error.length)){if(arguments[1]instanceof Error)throw arguments[1];throw Error("Uncaught, unspecified 'error' event.");}if(!this._events)return!1;var d=this._events[a];if(!d)return!1;if("function"==typeof d){switch(arguments.length){case 1:d.call(this);break;case 2:d.call(this,
arguments[1]);break;case 3:d.call(this,arguments[1],arguments[2]);break;default:for(var a=arguments.length,b=Array(a-1),e=1;e<a;e++)b[e-1]=arguments[e];d.apply(this,b)}return!0}if(c(d)){a=arguments.length;b=Array(a-1);for(e=1;e<a;e++)b[e-1]=arguments[e];d=d.slice();e=0;for(a=d.length;e<a;e++)d[e].apply(this,b);return!0}return!1};b.prototype.addListener=function(a,d){if("function"!==typeof d)throw Error("addListener only takes instances of Function");this._events||(this._events={});this.emit("newListener",
a,d);if(this._events[a])if(c(this._events[a])){if(this._events[a].push(d),!this._events[a].warned){var b;if((b=void 0!==this._events.maxListeners?this._events.maxListeners:100)&&0<b&&this._events[a].length>b)this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),console.trace()}}else this._events[a]=[this._events[a],d];else this._events[a]=d;return this};b.prototype.on=
b.prototype.addListener;b.prototype.once=function(a,d){function b(){c.removeListener(a,b);d.apply(this,arguments)}if("function"!==typeof d)throw Error(".once only takes instances of Function");var c=this;b.listener=d;c.on(a,b);return this};b.prototype.removeListener=function(a,d){if("function"!==typeof d)throw Error("removeListener only takes instances of Function");if(!this._events||!this._events[a])return this;var b=this._events[a];if(c(b)){for(var e=-1,k=0,n=b.length;k<n;k++)if(b[k]===d||b[k].listener&&
b[k].listener===d){e=k;break}if(0>e)return this;b.splice(e,1);0==b.length&&delete this._events[a]}else(b===d||b.listener&&b.listener===d)&&delete this._events[a];return this};b.prototype.removeAllListeners=function(a){if(0===arguments.length)return this._events={},this;a&&(this._events&&this._events[a])&&(this._events[a]=null);return this};b.prototype.listeners=function(a){this._events||(this._events={});this._events[a]||(this._events[a]=[]);c(this._events[a])||(this._events[a]=[this._events[a]]);
return this._events[a]};return h.exports};m["paperclip/lib/clip/modifiers/index.js"]=function(j,h){h.exports={uppercase:function(g){return String(g).toUpperCase()},lowercase:function(g){return String(g).toLowerCase()},json:function(g,b,c){return JSON.stringify.apply(JSON,arguments)},replace:function(g,b){return b}};return h.exports};m["paperclip/lib/paper/context.js"]=function(j,h){var g,b={}.hasOwnProperty;g=j("bindable/lib/index.js");j("pilot-block/lib/index.js");var c=function(a,d){var b,f;this.parent=
d;c.__super__.constructor.call(this,a);this.set("this",this);this.root=(null!=(b=this.parent)?b.root:void 0)||this;this.buffer=(null!=(f=this.parent)?f.buffer:void 0)||[];this.internal=this.root.internal||new g.Object},a=c,d=g.Object,f=function(){this.constructor=a},e;for(e in d)b.call(d,e)&&(a[e]=d[e]);f.prototype=d.prototype;a.prototype=new f;a.__super__=d.prototype;c.prototype.get=function(a){var d,b;return null!=(d=c.__super__.get.call(this,a))?d:null!=(b=this.parent)?b.get(a):void 0};c.prototype.child=
function(a){null==a&&(a={});return new c(a,this)};c.prototype.detachBuffer=function(){this.buffer=[];return this};c.prototype.attachBuffer=function(){this.buffer=this.root.buffer||this.buffer;return this};h.exports=c;return h.exports};m["paperclip/lib/paper/nodes/html.js"]=function(j,h){var g,b,c,a,d,f={}.hasOwnProperty;c=j("paperclip/lib/paper/nodes/nodeBinding.js");b=j("paperclip/lib/paper/nodes/blockBinding.js");a=j("paperclip/lib/paper/nodes/string.js");g=j("paperclip/lib/paper/nodes/base.js");
var e=function(){return d=e.__super__.constructor.apply(this,arguments)},k=e,n=function(){this.constructor=k},p;for(p in g)f.call(g,p)&&(k[p]=g[p]);n.prototype=g.prototype;k.prototype=new n;k.__super__=g.prototype;e.prototype.name="html";e.prototype.html=function(d){this.addChild(new a(d));return this};e.prototype.nodeBinding=function(a,d){this.addChild(new c(a,d));return this};e.prototype.blockBinding=function(a,d){this.addChild(new b(a,d));return this};e.prototype.textBinding=function(a){return this.blockBinding(a)};
e.prototype.clone=function(){var a;a=new e;a.children=g.cloneEach(this.children);return a};h.exports=e;return h.exports};m["pilot-block/lib/index.js"]=function(j,h){var g,b,c;g=j("pilot-block/lib/section.js");b=j("toarray/index.js");c=j("pilot-block/lib/utils.js");var a=function(){this._controllers={};this._sections={};this._bid=0};a.prototype.control=function(a,b){this._controllers[a]=b;return this._bindController(a)};a.prototype.section=function(a){return this._sections[a]};a.prototype.createSection=
function(a){null==a&&(a="");a="string"===typeof a?c.createElements(a).childNodes:b(a);return this._blockifyElements(a)};a.prototype.controller=function(a){return this._controllers[a]};a.prototype._removeSection=function(a){if(this._sections[a.name])return delete this._sections[a.name],delete this._controllers[a.name],this._removeChildSections(a)};a.prototype._removeChildSections=function(a){var b,c=this;a=a.start;for(b=[];a;)this._traverse(a,function(a){if(a=c._controllerNameFromBlock(a))return delete c._sections[a],
delete c._controllers[a]}),b.push(a=a.nextSibling);return b};a.prototype._traverse=function(a,b){var c,k,n,p,g;b(a);p=a.childNodes;g=[];k=0;for(n=p.length;k<n;k++)c=p[k],g.push(this._traverse(c,b));return g};a.prototype._blockifyElements=function(a){var b,c,k,n,p;p=document.createComment("spc:"+(b=this._generateRandomBlockId()));c=document.createComment("epc:"+b);k=a[0];a=a[a.length-1];k?(n=k.parentNode,n.insertBefore(p,k),n.lastChild===a?n.appendChild(c):n.insertBefore(c,a.nextSibling)):(n=document.createElement("div"),
n.appendChild(p),n.appendChild(c));return this._sections[b]=new g(b,p,this)};a.prototype._register=function(a,b){this._sections[a]=b;this.update();return b};a.prototype.update=function(a){var b,c,k,n;null==a&&(a=document.body);if(b=this._controllerNameFromBlock(a))this._sections[b]?this._sections[b].reset(a):this._sections[b]=new g(b,a,this),this._bindController(b);else if(a.childNodes){k=a.childNodes;n=[];b=0;for(c=k.length;b<c;b++)a=k[b],n.push(this.update(a));return n}};a.prototype._isStartBlock=
function(a){return a&&"#comment"===a.nodeName&&"spc:"===String(a.nodeValue).substr(0,4)};a.prototype._controllerNameFromBlock=function(a){return this._isStartBlock(a)?a.nodeValue.substr(4):null};a.prototype._bindController=function(a){var b,c;if((b=this._sections[a])&&(c=this._controllers[a])&&b.controller()!==c)return b.controller(c),c.elementBlock(b)};a.prototype._generateRandomBlockId=function(){for(var a;!(a="block-"+ ++this._bid,!this._sections[a]););return a};h.exports=new a;h.exports.create=
function(){return new a};h.exports.utils=j("pilot-block/lib/utils.js");return h.exports};m["asyngleton/lib/index.js"]=function(j,h){function g(a,d){1==arguments.length&&(d=a,a=!1);var f=c++,e=function(){var b=e.info.call(this),c=this,f;f=arguments[arguments.length-1];"function"!=typeof f&&(f=function(){});if(b.result)return f.apply(this,b.result),this;b.em.once("singleton",f);if(b.loading)return this;b.loading=!0;f=Array.prototype.slice.call(arguments,0);f.pop();f.push(function(){var d=b.result=Array.prototype.slice.call(arguments,
0);a&&e.reset.call(c);b.em.emit.apply(b.em,["singleton"].concat(d))});d.apply(this,f);return this};e.reset=function(){var a=e.info.call(this);a.loading=!1;a.result=void 0;return e};e.info=function(){this._asyngleton||(this._asyngleton={});var a;if(!(a=this._asyngleton[f]))a=this._asyngleton[f]={result:null,loading:!1,em:new b};return a};return e}var b=j("events/index.js").EventEmitter,c=0;h.exports=g;h.exports.dictionary=function(){var a={};return{get:function(b,c){if(a[b])return a[b];var e=a[b]=
g(c);e.dispose=function(){delete a[b]};return e}}};h.exports.type="operator";h.exports.factory=function(a,b,c){return g(c)};return h.exports};m["bindable/lib/object/binding.js"]=function(j,h){var g,b,c,a;g=new (j("bindable/lib/object/setters/factory.js"));a=j("bindable/lib/core/utils.js");j("hoist/lib/index.js");c=j("toarray/index.js");b=j("bindable/lib/object/deepPropertyWatcher.js");var d=function(a,b){this._from=a;this._property=b;this._limit=-1;this._setters=[];this._triggerCount=0;this._listen()};
d.prototype.__isBinding=!0;d.prototype.watch=function(a){if(!arguments.length)return this._watch;this._watch=a;return this};d.prototype.collection=function(){if(this._collectionBinding)return this._collectionBinding;this._collection=new d.Collection;this.to(this._collection.source);return this._collectionBinding=this._collection.bind().copyId(!0)};d.prototype.to=function(a,b){var c;(c=g.createSetter(this,a,b))&&this._setters.push(c);return this};d.prototype.from=function(a,b){1===arguments.length&&
(b=a,a=this._from);return a.bind(b).to(this._from,this._property)};d.prototype.transform=function(b){if(!arguments.length)return this._transform;this._transform=a.transformer(b);return this};d.prototype._transformer=function(){return this._transform||(this._transform=a.transformer(options))};d.prototype.once=function(){return this.limit(0)};d.prototype.limit=function(a){this._limit=a;return this};d.prototype.isBothWays=function(){return!!this._boundBothWays};d.prototype.bothWays=function(){if(this._boundBothWays)return this;
this._boundBothWays=!0;this._callSetterFns("bothWays");return this};d.prototype.dispose=function(){this._callSetterFns("dispose");this._setters=[];this._collectionBinding&&this._collectionBinding.dispose();this._listener&&(this._listener.dispose(),this._disposeListener.dispose());this._disposeListener=this._listener=void 0;return this};d.prototype._trigger=function(){this._callSetterFns("change",[this._from.get(this._property)]);~this._limit&&++this._triggerCount>this._limit&&this.dispose();return this};
d.prototype._callSetterFns=function(a,b){var c,d,p,g,h;g=this._setters;h=[];d=0;for(p=g.length;d<p;d++)c=g[d],h.push(c[a].apply(c,b||[]));return h};d.prototype._listen=function(){var a=this;this._listener=b.create({target:this._from,property:this._property,callback:function(){return a._trigger()}});return this._disposeListener=this._from.once("dispose",function(){return a.dispose()})};h.exports=d;d.fromOptions=function(a,b){var d,n,g,h,j;d=a.bind(b.property||b.from);g=c(b.to);h=0;for(j=g.length;h<
j;h++)n=g[h],n="object"===typeof n?n.property:{property:n},n.transform&&bindings.transform(n.transform),d.to(n.property);b.limit&&d.limit(b.limit);if(b.once)d.once();b.bothWays&&d.bothWays();return d};return h.exports};m["bindable/lib/object/index.js"]=function(j,h){var g,b,c,a,d;g={}.hasOwnProperty;d=j("bindable/lib/object/dref.js");j("dref/lib/index.js").use(j("bindable/lib/shim/dref.js"));a=j("bindable/lib/core/eventEmitter.js");b=j("bindable/lib/object/binding.js");c=j("bindable/lib/core/builder.js");
var f=function(a){f.__super__.constructor.call(this);this._initData(a);this._bindings=[]},e=f,k=function(){this.constructor=e},n;for(n in a)g.call(a,n)&&(e[n]=a[n]);k.prototype=a.prototype;e.prototype=new k;e.__super__=a.prototype;f.prototype.__isBindable=!0;f.prototype._initData=function(a){this.data=null!=a?a:{}};f.prototype.get=function(a,b){var c;null==b&&(b=!1);return null!=(c=d.get(this.data,a,b))?c:d.get(this[a.split(".").shift()],a.split(".").slice(1).join("."),b)};f.prototype.getFlatten=
function(a){return this.get(a,!0)};f.prototype.keys=function(){return Object.keys(this.getFlatten())};f.prototype.has=function(a){return!!this.get(a)};f.prototype.set=function(a,b){var c,d,e,f;if(1===arguments.length)if(a.__isBindable){f=a.keys();d=0;for(e=f.length;d<e;d++)c=f[d],this.set(c,a.get(c))}else for(c in a)this.set(c,a[c]);else if(b&&b.__isBinding)b.to(this,a);else return this._set(a,b)};f.prototype.reset=function(a){var b;null==a&&(a={});this.set(a);for(b in this.data)null==d.get(a,b)&&
this.set(b,void 0);return this};f.prototype._set=function(a,b){if(!d.set(this,a,b))return this;this.emit("change:"+a,b);return this};f.prototype._ref=function(a,b){return!b?a:d.get(a,b)};f.prototype.bind=function(a,c){if("object"===typeof a)return b.fromOptions(this,a);if(c&&c.__isBinding)this.set(a,c);else return(new b(this,a)).to(c)};f.prototype.dispose=function(){return this.emit("dispose")};f.prototype.toJSON=function(){return this.data};h.exports=g=f;new c(b,g);h.exports.EventEmitter=a;h.exports.propertyWatcher=
j("bindable/lib/object/deepPropertyWatcher.js");return h.exports};m["bindable/lib/collection/index.js"]=function(j,h){var g,b,c,a,d=function(a,b){return function(){return a.apply(b,arguments)}},f={}.hasOwnProperty;b=j("dref/lib/index.js");g=j("bindable/lib/collection/binding.js");j("bindable/lib/core/eventEmitter.js");a=j("type-component/index.js");c=j("hoist/lib/index.js");var e=j("bindable/lib/object/index.js"),k=function(b,c){null==b&&(b=[]);null==c&&(c="_id");this._enforceItemId=d(this._enforceItemId,
this);this.reset=d(this.reset,this);this.source=d(this.source,this);k.__super__.constructor.call(this);this._source=[];"string"===a(b)&&(c=b,b=[]);this._length=0;this._id(c);this.__enforceId=!0;this.transform().postMap(this._enforceItemId);this.reset(b)},n=k,p=function(){this.constructor=n},s;for(s in e)f.call(e,s)&&(n[s]=e[s]);p.prototype=e.prototype;n.prototype=new p;n.__super__=e.prototype;k.prototype.__isCollection=!0;k.prototype.empty=function(){return!this._length};k.prototype.length=function(){return this._length};
k.prototype.source=function(a){return!arguments.length?this._source:this.reset(a)};k.prototype.reset=function(a){a||(a=[]);this.disposeSourceBinding();this._remove(this._source||[]);if(a.__isCollection)return this._source=[],this._id(a._id()),this._sourceBinding=a.bind().to(this),this;this._insert(this._source=this._transform(a));return this};k.prototype.disposeSourceBinding=function(){if(this._sourceBinding)return this._sourceBinding.dispose(),this._sourceBinding=void 0};k.prototype.bind=function(b){return"string"===
a(b)?k.__super__.bind.apply(this,arguments):(new g(this)).to(b)};k.prototype.set=function(a,b){var c;c=Number(a);return isNaN(c)?k.__super__.set.apply(this,arguments):this.splice(c,b)};k.prototype.get=function(a){var b;b=Number(a);return isNaN(b)?k.__super__.get.call(this,a):this.at(b)};k.prototype.at=function(a){return this._source[a]};k.prototype.first=function(){return this._source[0]};k.prototype.last=function(){return this._source[this._length-1]};k.prototype.update=function(){};k.prototype.remove=
function(a){a=this.indexOf(a);if(!~a)return!1;this.splice(a,1);return!0};k.prototype.filter=function(a){return this._source.filter(a)};k.prototype.splice=function(a,b){var c,d;c=Array.prototype.slice.call(arguments);c.splice(0,2);c=this._transform(c);d=this.slice(a,a+b);this._source.splice.apply(this._source,arguments);this._remove(d,a);return this._insert(c,a)};k.prototype.transform=function(){return this._transformer||(this._transformer=c())};k.prototype.slice=function(a,b){return this._source.slice(a,
b)};k.prototype.indexOf=function(a){var c,d,e,f,k;k=this._source;c=e=0;for(f=k.length;e<f;c=++e)if(d=k[c],b.get(d,this.__id)===b.get(a,this.__id))return c;return-1};k.prototype._id=function(a){if(!arguments.length)return this.__id;if(this.__id===a)return this;this.__id=a;this._source&&this._enforceId();return this};k.prototype.push=function(){var a;a=this._transform(Array.prototype.slice.call(arguments));this._source.push.apply(this._source,a);return this._insert(a,this._length)};k.prototype.unshift=
function(){var a;a=this._transform(Array.prototype.slice.call(arguments));this._source.unshift.apply(this._source,a);return this._insert(a)};k.prototype.toJSON=function(){var a,b,c,d,e;b=[];e=this._source;c=0;for(d=e.length;c<d;c++)a=e[c],b.push(("function"===typeof a.toJSON?a.toJSON():void 0)||a);return b};k.prototype.pop=function(){return this._remove([this._source.pop()],this._length)[0]};k.prototype.shift=function(){return this._remove([this._source.shift()],0)[0]};k.prototype.enforceId=function(a){return!arguments.length?
this.__enforceId:this.__enforceId=a};k.prototype._enforceId=function(){var a,b,c,d,e;d=this._source;e=[];b=0;for(c=d.length;b<c;b++)a=d[b],e.push(this._enforceItemId(a));return e};k.prototype._enforceItemId=function(a){var c;if(!this.__enforceId)return a;c=b.get(a,this.__id);if(void 0===c||null===c)throw Error("item '"+a+"' must have a '"+this.__id+"'");return a};k.prototype._insert=function(a,b){var c,d,e,f;null==b&&(b=0);if(a.length){this._length+=a.length;this._resetInfo();c=e=0;for(f=a.length;e<
f;c=++e)d=a[c],this.emit("insert",d,b+c);return a}};k.prototype._remove=function(a,b){var c,d,e,f;null==b&&(b=0);if(a.length){this._length-=a.length;this._resetInfo();c=e=0;for(f=a.length;e<f;c=++e)d=a[c],this.emit("remove",d,b+c);return a}};k.prototype._resetInfo=function(){this.set("length",this._length);return this.set("empty",!this._length)};k.prototype._transform=function(b){var c,d,e,f;if(!this._transformer)return b;if("array"===a(b)){d=[];e=0;for(f=b.length;e<f;e++)c=b[e],d.push(this._transformer(c));
return d}return this._transformer(b)};h.exports=k;return h.exports};m["bindable/lib/core/eventEmitter.js"]=function(j,h){var g,b,c,a={}.hasOwnProperty;b=j("events/index.js");g=j("disposable/lib/index.js");var d=function(){return c=d.__super__.constructor.apply(this,arguments)},f=d;b=b.EventEmitter;var e=function(){this.constructor=f},k;for(k in b)a.call(b,k)&&(f[k]=b[k]);e.prototype=b.prototype;f.prototype=new e;f.__super__=b.prototype;d.prototype.on=function(a,b){var c,e,f=this;c=g.create();if(1===
arguments.length){for(e in a)c.add(this.on(e,a[e]));return c}e=[];e="string"===typeof a?a.split(" "):a;e.forEach(function(a){d.__super__.on.call(f,a,b);return c.add(function(){return f.off(a,b)})});return c};d.prototype.once=function(a,b){var c;c=this.on(a,function(){c.dispose();return b.apply(this,arguments)});c.target=this;return c};d.prototype.off=function(a,b){return this.removeListener(a,b)};h.exports=d;return h.exports};m["type-component/index.js"]=function(j,h){var g=Object.prototype.toString;
h.exports=function(b){switch(g.call(b)){case "[object Function]":return"function";case "[object Date]":return"date";case "[object RegExp]":return"regexp";case "[object Arguments]":return"arguments";case "[object Array]":return"array"}return null===b?"null":void 0===b?"undefined":b===Object(b)?"object":typeof b};return h.exports};m["paperclip/lib/paper/nodes/nodeBinding.js"]=function(j,h){var g,b,c,a={}.hasOwnProperty,d=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=
c[e]);d.prototype=c.prototype;b.prototype=new d;b.__super__=c.prototype;return b};j("async/lib/async.js");b=j("paperclip/lib/clip/buffer.js");g=j("paperclip/lib/paper/nodes/base.js");c=j("paperclip/lib/paper/decor/attrFactory.js");var f=function(a,c){this.name=a;f.__super__.constructor.call(this);this.clippedBuffer=new b(c)};d(f,g);f.prototype.load=function(a,b){this.clippedBuffer.reset(a.data);this.clippedBuffer.text.length&&a.buffer.push(" "+this.name+'="'+this.clippedBuffer.text+'"');return b()};
g=j("paperclip/lib/paper/nodes/bindable.js");var e=function(a,b){this.name=a;this.options=null!=b?b:{};var d=this.bind,f=this;this.bind=function(){return d.apply(f,arguments)};e.__super__.constructor.call(this);this.attributes=b.attrs||{};this._decor=c.getDecor(this);b.children&&this.addChild(b.children)};d(e,g);e.prototype.name="nodeBinding";e.prototype.bind=function(){e.__super__.bind.call(this);this._decor.bind();return this};e.prototype._writeHead=function(a,b){this._writeStartBlock(a);a.buffer.push("<"+
this.name);return b()};e.prototype._loadChildren=function(a,b){var c=this;return this._decor.load(a,function(){a.buffer.push(">");return e.__super__._loadChildren.call(c,a,b)})};e.prototype._writeTail=function(a,b){a.buffer.push("</"+this.name+">");this._writeEndBlock(a);return b()};e.prototype.clone=function(){return new e(this.name,this.options)};h.exports=e;return h.exports};m["paperclip/lib/paper/nodes/blockBinding.js"]=function(j,h){var g,b,c,a,d={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=
a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;return a};g=j("paperclip/lib/paper/nodes/base.js");a=j("paperclip/lib/paper/decor/blockFactory.js");c=j("paperclip/lib/clip/index.js");var e=j("paperclip/lib/paper/nodes/bindable.js"),k=function(a,b){this.block=a;this["with"]=b;k.__super__.constructor.call(this);this.content=this.block.contentFactory()};f(k,e);k.prototype.bind=function(){k.__super__.bind.call(this);this.content.bind();return this};
k.prototype.dispose=function(){k.__super__.dispose.call(this);this.content.dispose();return this};k.prototype.load=function(a,b){return!this["with"]?k.__super__.load.call(this,a,b):k.__super__.load.call(this,a.child(this["with"]),b)};k.prototype._loadChildren=function(a,b){return this.content.load(a,b)};b=k;var e=j("paperclip/lib/paper/nodes/bindable.js"),n=function(b,d){this.script=b;this.contentFactory=d;n.__super__.constructor.call(this);this.clip=new c({script:b,watch:!1});this._decor=a.getDecor(this)};
f(n,e);n.prototype.name="blockBinding";n.prototype.bind=function(){n.__super__.bind.call(this);this.clip.watch();return this._decor.bind()};n.prototype.dispose=function(){this.clip.dispose();this._decor.dispose();return n.__super__.dispose.call(this)};n.prototype.createContent=function(a){return new b(this,a)};n.prototype._writeHead=function(a,b){this.clip.reset(a);this.clip.update();return n.__super__._writeHead.call(this,a,b)};n.prototype._loadChildren=function(a,b){return this._decor.load(a,b)};
n.prototype.clone=function(){return new n(this.script,g.cloneEach(this.children))};h.exports=n;return h.exports};m["paperclip/lib/paper/nodes/string.js"]=function(j,h){var g={}.hasOwnProperty,b=j("paperclip/lib/paper/nodes/base.js"),c=function(a){null==a&&(a="");this._buffer=a},a=function(){this.constructor=c},d;for(d in b)g.call(b,d)&&(c[d]=b[d]);a.prototype=b.prototype;c.prototype=new a;c.__super__=b.prototype;c.prototype.name="string";c.prototype._writeHead=function(a,b){a.buffer.push(this._buffer);
return c.__super__._writeHead.call(this,a,b)};c.prototype.clone=function(){return new c(this._buffer)};h.exports=c;return h.exports};m["paperclip/lib/paper/nodes/base.js"]=function(j,h){var g,b;g=j("async/lib/async.js");b=j("pilot-block/lib/index.js");var c=function(){this.children=[]};c.prototype.__isNode=!0;c.prototype.bind=function(){var a,b,c,e;e=this.children||[];b=0;for(c=e.length;b<c;b++)a=e[b],a.bind();return this};c.prototype.dispose=function(){var a,b,c,e,k;null!=(a=this.section)&&a.dispose();
e=this.children||[];k=[];b=0;for(c=e.length;b<c;b++)a=e[b],k.push(a.dispose());return k};c.prototype.attach=function(a,c,f){var e=this;null==f&&(f=function(){});return this.load(c.detachBuffer(),function(k){if(null!=k)return f(k);a.__isNode?(a.section.append(b.createSection(c.buffer.join(""))),b.update(a.section.parent)):(a.innerHTML=c.buffer.join(""),b.update(a));e.bind();return f()})};c.prototype.load=function(a,b){var c=this;this.context=a;this._writeHead(a,function(e){return null!=e?b(e):c._loadChildren(a,
function(e){return null!=e?b(e):c._writeTail(a,function(c){return b(c,a)})})});return this};c.prototype._writeHead=function(a,b){return b()};c.prototype._loadChildren=function(a,b){return c.loadEachItem(this.children||[],a,b)};c.prototype._writeTail=function(a,b){return b()};c.prototype.addChild=function(){var a,b,c,e;e=[];b=0;for(c=arguments.length;b<c;b++)a=arguments[b],a.parent=this,e.push(this.children.push(a));return e};c.loadEachItem=function(a,b,c){return g.eachSeries(a,function(a,c){return a.load(b,
c)},c)};c.cloneEach=function(a){var b,c,e,k;c=[];e=0;for(k=a.length;e<k;e++)b=a[e],c.push(b.clone());return c};h.exports=c;return h.exports};m["pilot-block/lib/section.js"]=function(j,h){var g;g=j("pilot-block/lib/utils.js");var b=function(b,a,d){this.name=b;this.start=a;this.pilot=d;(!a.parentNode||11===(null!=a?a.parentNode.nodeType:void 0))&&g.copySiblings(this.start,document.createElement("div"));this.update()};b.prototype.__isSection=!0;b.prototype.removeElements=function(){this.detach();this.elements=
[];return this.allElements=[]};b.prototype.reset=function(b){if(this.start!==b)return this.start=b,this.update()};b.prototype.removeAll=function(){var b,a;this.pilot._removeSection(this);this.removeElements();null!=(b=this.start.parentNode)&&b.removeChild(this.start);return null!=(a=this.start.parentNode)?a.removeChild(this.end):void 0};b.prototype.appendTo=function(b){return g.moveChildren(g.arrayToFragment(this.allElements),b)};b.prototype.append=function(){g.insertAfter(this._parseElements(arguments),
2===this.allElements.length?this.allElements[0]:this.allElements[this.allElements.length-2]);return this.update()};b.prototype.prepend=function(){g.insertAfter(this._parseElements(arguments),this.allElements[0]);return this.update()};b.prototype.replaceChildren=function(b){g.removeAllChildren(b);return this.appendTo(b)};b.prototype.html=function(b){if(!arguments.length)return this.toString();this.removeElements();g.insertAfter(g.createElements(b),this.start);this.pilot.update(this.start.parentNode);
return this.update()};b.prototype.toString=function(){var b;b=document.createElement("div");b.appendChild(g.copyElements(this.allElements));return b.innerHTML};b.prototype.controller=function(b){return!arguments.length?this._controller:this._controller=b};b.prototype.dispose=function(){return this.removeAll()};b.prototype.update=function(){var b,a,d,f;b=this.start.nextSibling;f="epc:"+this.name;for(a=[];b;){if("#comment"===b.nodeName&&String(b.nodeValue)===f){d=b;break}a.push(b);b=b.nextSibling}this.elements=
a;this.end=d;return this.allElements=[this.start].concat(a).concat([this.end])};b.prototype.attachedToDOM=function(){var b;for(b=this.start;b&&b!==document.body;)b=b.parentNode;return b===document.body};b.prototype.detach=function(){var b,a,d;this._detached=!0;a=[];b=this.start.nextSibling;if(d=this.start.parentNode){for(;b!==this.end;)a.push(b),d.removeChild(b),b=this.start.nextSibling;this.detachedElements=a;return this.update()}};b.prototype.dispose=function(){return this.removeAll()};b.prototype.attach=
function(){var b,a,d,f,e;if(this._detached){a=document.createDocumentFragment();e=this.detachedElements;d=0;for(f=e.length;d<f;d++)b=e[d],a.appendChild(b);this.start.parentNode.insertBefore(a,this.end);return this.update()}};b.prototype._parseElement=function(b){return"string"===typeof b?g.createElements(b).childNodes:b.__isSection?g.arrayToFragment(b.allElements):b};b.prototype._parseElements=function(b){var a,d,f,e;d=document.createDocumentFragment();f=0;for(e=b.length;f<e;f++)a=b[f],d.appendChild(this._parseElement(a));
return d};h.exports=b;return h.exports};m["toarray/index.js"]=function(j,h){h.exports=function(g){return void 0===g?[]:"[object Array]"===Object.prototype.toString.call(g)?g:[g]};return h.exports};m["pilot-block/lib/utils.js"]=function(j,h,g){g.moveChildren=function(b,c){return c.appendChild(g.fragment(b))};g.copySiblings=function(b,c){var a,d,f,e;for(d=[];b;)d.push(b),b=b.nextSibling;f=0;for(e=d.length;f<e;f++)a=d[f],c.appendChild(a);return c};g.fragment=function(b){var c;for(c=document.createDocumentFragment();b.childNodes.length;)c.appendChild(b.childNodes[0]);
return c};g.copyElements=function(b){var c,a,d,f;a=document.createDocumentFragment();d=0;for(f=b.length;d<f;d++)(c=b[d])&&a.appendChild(c.cloneNode(!0));return a};g.insertAfter=function(b,c){var a;a=c.parentNode;return c===a.lastChild?a.appendChild(b):a.insertBefore(b,c.nextSibling)};g.createElements=function(b){var c,a;a=document.createDocumentFragment();c=document.createElement("div");for(c.innerHTML=b;c.childNodes.length;)a.appendChild(c.childNodes[0]);return a};g.arrayToFragment=function(b){var c,
a,d,f;a=document.createDocumentFragment();d=0;for(f=b.length;d<f;d++)c=b[d],a.appendChild(c);return a};g.removeAllChildren=function(b){var c;for(c=[];b.childNodes.length;)c.push(b.removeChild(b.childNodes[0]));return c};return h.exports};m["bindable/lib/object/setters/factory.js"]=function(j,h){var g,b,c;c=j("bindable/lib/object/setters/fn.js");g=j("bindable/lib/object/setters/bindable.js");b=j("bindable/lib/object/setters/collection.js");var a=function(){};a.prototype.createSetter=function(a,f,e){var k,
h,j;k=j=h=null;if(!f&&!e)return null;if("string"===typeof e)h=f,j=e;else if("string"===typeof f)h=a._from,j=f;else if("function"===typeof f)k=f;else if("object"===typeof f&&f){if(f.__isBinding)throw Error("Cannot bind to a binding.");if(f.__isCollection)return new b(a,f)}return k?new c(a,k):h&&j?new g(a,h,j):null};h.exports=a;return h.exports};m["bindable/lib/core/utils.js"]=function(j,h,g){var b;b=j("hoist/lib/index.js");g.tryTransform=function(b,a,d,f){return!b?f(null,d):b[a].call(b,d,f)};g.transformer=
function(c){"function"===typeof c&&(c={from:c,to:c});c.from||(c.from=function(a){return a});c.to||(c.to=function(a){return a});return{from:b.map(c.from),to:b.map(c.to)}};return h.exports};m["hoist/lib/index.js"]=function(j,h){var g,b,c,a,d,f;b=j("hoist/lib/transformer.js");h.exports=b;f="cast map preCast preMap postCast postMap".split(" ");c=function(a){return h.exports[a]=function(){var c;c=b();return c[a].apply(c,arguments)}};a=0;for(d=f.length;a<d;a++)g=f[a],c(g);return h.exports};m["bindable/lib/object/deepPropertyWatcher.js"]=
function(j,h){var g,b;j("dref/lib/index.js");g=j("poolparty/lib/index.js");var c=function(a){var b=this._changed,c=this;this._changed=function(){return b.apply(c,arguments)};this.reset(a)};c.prototype.reset=function(a){a.property&&(a.path=a.property.split("."));this.index=a.index||0;this._fullPath=a.path;this._path=this._fullPath.slice(0,this.index);this._property=this._path.join(".");this.target=a.target;this.callback=a.callback;return this._watch()};c.prototype._dispose=function(){this._listener&&
(this._listener.dispose(),this._listener=void 0);this._binding&&(this._binding.dispose(),this._binding=void 0);if(this._child)return this._child.dispose(),this._child=void 0};c.prototype.dispose=function(){this._dispose();return b.add(this)};c.prototype._watch=function(){var a;a=this.target.get(this._property);this._property.length&&(this._listener=this.target.on("change:"+this._property,this._changed));if(a&&a.__isBindable)return this._binding=b.create({target:a,path:this._fullPath.slice(this.index),
callback:this._changed});if(this._path.length<this._fullPath.length)return this._child=b.create({target:this.target,path:this._fullPath,callback:this.callback,index:this.index+1})};c.prototype._changed=function(a){this._dispose();this._watch();return this.callback(a)};b=h.exports=g({max:100,factory:function(a){return new c(a)},recycle:function(a,b){return a.reset(b)}});return h.exports};m["bindable/lib/object/dref.js"]=function(j,h,g){g.get=function(b,c,a){var d,f,e,k;null==a&&(a=!0);if(b){c=c?c.split("."):
[];d=e=0;for(k=c.length;e<k;d=++e){f=c[d];if(!b)return;if(b.__isBindable)return b.get(c.slice(d).join("."));b=b[f]}return a&&b&&b.__isBindable?b.get():b}};g.set=function(b,c,a){var d,f,e,k,g;if(b&&c){c=c.split(".");b=b.data;e=c.length;d=k=0;for(g=c.length;k<g;d=++k){f=c[d];if(b.__isBindable)return b.set(c.slice(d).join("."),a);if(d===e-1){if(b[f]===a)return!1;b[f]=a;return!0}d=b[f];if(!d||"object"!==typeof d)d=b[f]={};b=d}}};return h.exports};m["bindable/lib/shim/dref.js"]=function(j,h){h.exports=
{test:function(g){return g.get&&g.set},get:function(g,b){var c;c=g.data[b];if(null===c||void 0===c)c=g[b];return c},set:function(g,b,c){return g.set(b,c)}};return h.exports};m["bindable/lib/core/builder.js"]=function(j,h){var g=function(b,a){this._targetClass=b;this._addMethods(a);this._callChain=[]};g.prototype.__isCallChain=!0;g.prototype.createObject=function(){var b,a,d,f,e,k,g,h;d=this._targetClass;a=arguments;b=function(){return d.apply(this,a)};b.prototype=d.prototype;f=new b;g=this._callChain;
h=[];e=0;for(k=g.length;e<k;e++)b=g[e],h.push(f=f[b.method].apply(f,b.args));return h};g.prototype.copyId=function(b){if(!arguments.length)return this._copyId;this._copyId=b;return this};g.prototype.callMethod=function(b,a){this._callChain.push({method:b,args:a});return this};g.prototype._addMethods=function(b){var a,d,f;d=0;for(f=b.length;d<f;d++)a=b[d],this._addMethod(a);return this};g.prototype._addMethod=function(b){return this[b]=function(){return this.callMethod(b,arguments)}};var b=function(b,
a){this._class=b;this._attach=null!=a?a:this;this._createMethods()};b.prototype._createMethods=function(){var b,a;this._methods=[];a=[];for(b in this._class.prototype)"_"!==b.substr(0,1)&&a.push(this._addMethod(b));return a};b.prototype._addMethod=function(b){var a=this;this._methods.push(b);return this._attach[b]=function(){return(new g(a._class,a._methods)).callMethod(b,arguments)}};h.exports=b;return h.exports};m["bindable/lib/collection/binding.js"]=function(j,h){var g,b;g=new (j("bindable/lib/collection/setters/factory.js"));
b=j("bindable/lib/core/utils.js");var c=function(a){this._from=a;this._limit=-1;this._setters=[];this._listen()};c.prototype.transform=function(a){if(!arguments.length)return this._transformer;this._transformer=b.transformer(a);return this};c.prototype.dispose=function(){this._dispose(this._setters);this._setters=void 0;this._dispose(this._listeners);return this._listeners=void 0};c.prototype.copyId=function(a){if(!arguments.length)return this._copyId;this._copyId=a;return this};c.prototype._dispose=
function(a){var b,c,e,k;if(a){k=[];c=0;for(e=a.length;c<e;c++)b=a[c],k.push(b.dispose());return k}};c.prototype.filter=function(a){if(!arguments.length)return this._filter;this._filter=a;return this};c.prototype.to=function(a){(a=g.createSetter(this,a))&&this._setters.push(a);return this};c.prototype._listen=function(){var a,b,c,e,k,g=this;this._listeners=[];e=["insert","remove","update"];k=[];b=0;for(c=e.length;b<c;b++)a=e[b],k.push(function(a){return g._listeners.push(g._from.on(a,function(b,c){return g._callSetters(a,
b,c)}))}(a));return k};c.prototype._callSetters=function(a,b){var c,e,k,g,h;g=this._setters;h=[];e=0;for(k=g.length;e<k;e++)c=g[e],h.push(c.change(a,b));return h};h.exports=c;return h.exports};m["disposable/lib/index.js"]=function(j,h){var g={create:function(){var b={},c=[];b.add=function(a){if(1<arguments.length){for(var d=g.create(),f=arguments.length;f--;)d.add(arguments[f]);return b.add(d)}if("function"==typeof a){var e=a,k=Array.prototype.slice.call(arguments,0);k.shift();a={dispose:function(){e.apply(null,
k)}}}else if(!a||!a.dispose)return!1;c.push(a);return{dispose:function(){var b=c.indexOf(a);-1<b&&c.splice(b,1)}}};b.addTimeout=function(a){return b.add(function(){clearTimeout(a)})};b.addInterval=function(a){return b.add(function(){clearInterval(a)})};b.addBinding=function(a){b.add(function(){a.unbind()})};b.dispose=function(){for(var a=c.length;a--;)c[a].dispose();c=[]};return b}};"undefined"!=typeof h?h.exports=g:"undefined"!=typeof window&&(window.disposable=g);return h.exports};m["paperclip/lib/paper/decor/blockFactory.js"]=
function(j,h){var g,b;g=j("paperclip/lib/paper/decor/collection.js");b={html:j("paperclip/lib/paper/decor/block/html.js"),when:j("paperclip/lib/paper/decor/block/when.js"),"with":j("paperclip/lib/paper/decor/block/with.js"),each:j("paperclip/lib/paper/decor/block/each.js"),value:j("paperclip/lib/paper/decor/block/value.js"),block:j("paperclip/lib/paper/decor/block/block.js"),template:j("paperclip/lib/paper/decor/block/template.js"),view:j("paperclip/lib/paper/decor/block/view.js")};var c=function(){};
c.prototype.getDecor=function(a){var c,f,e,k,h,j;f=new g;j=a.clip.scripts.names;k=0;for(h=j.length;k<h;k++)e=j[k],(c=b[e])&&f.push(new c(a,e));return f};h.exports=new c;return h.exports};m["paperclip/lib/paper/nodes/bindable.js"]=function(j,h){var g,b,c={}.hasOwnProperty;g=j("pilot-block/lib/index.js");var a=j("paperclip/lib/paper/nodes/base.js"),d=function(){return b=d.__super__.constructor.apply(this,arguments)},f=d,e=function(){this.constructor=f},k;for(k in a)c.call(a,k)&&(f[k]=a[k]);e.prototype=
a.prototype;f.prototype=new e;f.__super__=a.prototype;d.prototype.bind=function(){d.__super__.bind.call(this);this.section=g.section(this.id);return this};d.prototype._writeHead=function(a,b){this._writeStartBlock(a);return d.__super__._writeHead.call(this,a,b)};d.prototype._writeStartBlock=function(a){var b;a.internal.set("pcid",b=(a.internal.get("pcid")||0)+1);return a.buffer.push("\x3c!--spc:"+(this.id=b)+"--\x3e")};d.prototype._writeTail=function(a,b){this._writeEndBlock(a);return d.__super__._writeTail.call(this,
a,b)};d.prototype._writeEndBlock=function(a){return a.buffer.push("\x3c!--epc:"+this.id+"--\x3e")};h.exports=d;return h.exports};m["async/lib/async.js"]=function(j,h){(function(){function g(a){var b=!1;return function(){if(b)throw Error("Callback was already called.");b=!0;a.apply(c,arguments)}}var b={},c,a;c=this;null!=c&&(a=c.async);b.noConflict=function(){c.async=a;return b};var d=function(a,b){if(a.forEach)return a.forEach(b);for(var c=0;c<a.length;c+=1)b(a[c],c,a)},f=function(a,b){if(a.map)return a.map(b);
var c=[];d(a,function(a,d,e){c.push(b(a,d,e))});return c},e=function(a){if(Object.keys)return Object.keys(a);var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b};"undefined"===typeof process||!process.nextTick?"function"===typeof setImmediate?(b.setImmediate=setImmediate,b.nextTick=setImmediate):(b.setImmediate=b.nextTick,b.nextTick=function(a){setTimeout(a,0)}):(b.nextTick=process.nextTick,b.setImmediate="undefined"!==typeof setImmediate?setImmediate:b.nextTick);b.each=function(a,b,c){c=
c||function(){};if(!a.length)return c();var e=0;d(a,function(d){b(d,g(function(b){b?(c(b),c=function(){}):(e+=1,e>=a.length&&c(null))}))})};b.forEach=b.each;b.eachSeries=function(a,b,c){c=c||function(){};if(!a.length)return c();var d=0,e=function(){b(a[d],function(b){b?(c(b),c=function(){}):(d+=1,d>=a.length?c(null):e())})};e()};b.forEachSeries=b.eachSeries;b.eachLimit=function(a,b,c,d){k(b).apply(null,[a,c,d])};b.forEachLimit=b.eachLimit;var k=function(a){return function(b,c,d){d=d||function(){};
if(!b.length||0>=a)return d();var e=0,f=0,k=0;(function l(){if(e>=b.length)return d();for(;k<a&&f<b.length;)f+=1,k+=1,c(b[f-1],function(a){a?(d(a),d=function(){}):(e+=1,k-=1,e>=b.length?d():l())})})()}},j=function(a){return function(){var c=Array.prototype.slice.call(arguments);return a.apply(null,[b.each].concat(c))}},p=function(a,b){return function(){var c=Array.prototype.slice.call(arguments);return b.apply(null,[k(a)].concat(c))}},s=function(a){return function(){var c=Array.prototype.slice.call(arguments);
return a.apply(null,[b.eachSeries].concat(c))}},v=function(a,b,c,d){var e=[];b=f(b,function(a,b){return{index:b,value:a}});a(b,function(a,b){c(a.value,function(c,d){e[a.index]=d;b(c)})},function(a){d(a,e)})};b.map=j(v);b.mapSeries=s(v);b.mapLimit=function(a,b,c,d){return p(b,v)(a,c,d)};b.reduce=function(a,c,d,e){b.eachSeries(a,function(a,b){d(c,a,function(a,d){c=d;b(a)})},function(a){e(a,c)})};b.inject=b.reduce;b.foldl=b.reduce;b.reduceRight=function(a,c,d,e){a=f(a,function(a){return a}).reverse();
b.reduce(a,c,d,e)};b.foldr=b.reduceRight;var q=function(a,b,c,d){var e=[];b=f(b,function(a,b){return{index:b,value:a}});a(b,function(a,b){c(a.value,function(c){c&&e.push(a);b()})},function(){d(f(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};b.filter=j(q);b.filterSeries=s(q);b.select=b.filter;b.selectSeries=b.filterSeries;q=function(a,b,c,d){var e=[];b=f(b,function(a,b){return{index:b,value:a}});a(b,function(a,b){c(a.value,function(c){c||e.push(a);b()})},function(){d(f(e.sort(function(a,
b){return a.index-b.index}),function(a){return a.value}))})};b.reject=j(q);b.rejectSeries=s(q);q=function(a,b,c,d){a(b,function(a,b){c(a,function(c){c?(d(a),d=function(){}):b()})},function(){d()})};b.detect=j(q);b.detectSeries=s(q);b.some=function(a,c,d){b.each(a,function(a,b){c(a,function(a){a&&(d(!0),d=function(){});b()})},function(){d(!1)})};b.any=b.some;b.every=function(a,c,d){b.each(a,function(a,b){c(a,function(a){a||(d(!1),d=function(){});b()})},function(){d(!0)})};b.all=b.every;b.sortBy=function(a,
c,d){b.map(a,function(a,b){c(a,function(c,d){c?b(c):b(null,{value:a,criteria:d})})},function(a,b){if(a)return d(a);d(null,f(b.sort(function(a,b){var c=a.criteria,d=b.criteria;return c<d?-1:c>d?1:0}),function(a){return a.value}))})};b.auto=function(a,c){c=c||function(){};var f=e(a);if(!f.length)return c(null);var k={},g=[],h=function(){d(g.slice(0),function(a){a()})};g.unshift(function(){e(k).length===f.length&&(c(null,k),c=function(){})});d(f,function(f){var j=a[f]instanceof Function?[a[f]]:a[f],
l=function(a){var g=Array.prototype.slice.call(arguments,1);1>=g.length&&(g=g[0]);if(a){var j={};d(e(k),function(a){j[a]=k[a]});j[f]=g;c(a,j);c=function(){}}else k[f]=g,b.setImmediate(h)},n=j.slice(0,Math.abs(j.length-1))||[],p=function(){var a;var b=function(a,b){return a&&k.hasOwnProperty(b)},c=!0;n.reduce?a=n.reduce(b,c):(d(n,function(a,d,e){c=b(c,a,d,e)}),a=c);return a&&!k.hasOwnProperty(f)};if(p())j[j.length-1](l,k);else{var s=function(){if(p()){a:for(var a=s,b=0;b<g.length;b+=1)if(g[b]===a){g.splice(b,
1);break a}j[j.length-1](l,k)}};g.unshift(s)}})};b.waterfall=function(a,c){c=c||function(){};if(a.constructor!==Array)return c(Error("First argument to waterfall must be an array of functions"));if(!a.length)return c();var d=function(a){return function(e){if(e)c.apply(null,arguments),c=function(){};else{var f=Array.prototype.slice.call(arguments,1),k=a.next();k?f.push(d(k)):f.push(c);b.setImmediate(function(){a.apply(null,f)})}}};d(b.iterator(a))()};var r=function(a,b,c){c=c||function(){};if(b.constructor===
Array)a.map(b,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);1>=c.length&&(c=c[0]);b.call(null,a,c)})},c);else{var d={};a.each(e(b),function(a,c){b[a](function(b){var e=Array.prototype.slice.call(arguments,1);1>=e.length&&(e=e[0]);d[a]=e;c(b)})},function(a){c(a,d)})}};b.parallel=function(a,c){r({map:b.map,each:b.each},a,c)};b.parallelLimit=function(a,b,c){r({map:p(b,v),each:k(b)},a,c)};b.series=function(a,c){c=c||function(){};if(a.constructor===Array)b.mapSeries(a,function(a,
b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);1>=c.length&&(c=c[0]);b.call(null,a,c)})},c);else{var d={};b.eachSeries(e(a),function(b,c){a[b](function(a){var e=Array.prototype.slice.call(arguments,1);1>=e.length&&(e=e[0]);d[b]=e;c(a)})},function(a){c(a,d)})}};b.iterator=function(a){var b=function(c){var d=function(){a.length&&a[c].apply(null,arguments);return d.next()};d.next=function(){return c<a.length-1?b(c+1):null};return d};return b(0)};b.apply=function(a){var b=Array.prototype.slice.call(arguments,
1);return function(){return a.apply(null,b.concat(Array.prototype.slice.call(arguments)))}};q=function(a,b,c,d){var e=[];a(b,function(a,b){c(a,function(a,c){e=e.concat(c||[]);b(a)})},function(a){d(a,e)})};b.concat=j(q);b.concatSeries=s(q);b.whilst=function(a,c,d){a()?c(function(e){if(e)return d(e);b.whilst(a,c,d)}):d()};b.doWhilst=function(a,c,d){a(function(e){if(e)return d(e);c()?b.doWhilst(a,c,d):d()})};b.until=function(a,c,d){a()?d():c(function(e){if(e)return d(e);b.until(a,c,d)})};b.doUntil=function(a,
c,d){a(function(e){if(e)return d(e);c()?d():b.doUntil(a,c,d)})};b.queue=function(a,c){function e(a,f,k,g){f.constructor!==Array&&(f=[f]);d(f,function(d){d={data:d,callback:"function"===typeof g?g:null};k?a.tasks.unshift(d):a.tasks.push(d);a.saturated&&a.tasks.length===c&&a.saturated();b.setImmediate(a.process)})}void 0===c&&(c=1);var f=0,k={tasks:[],concurrency:c,saturated:null,empty:null,drain:null,push:function(a,b){e(k,a,!1,b)},unshift:function(a,b){e(k,a,!0,b)},process:function(){if(f<k.concurrency&&
k.tasks.length){var b=k.tasks.shift();k.empty&&0===k.tasks.length&&k.empty();f+=1;var c=g(function(){f-=1;b.callback&&b.callback.apply(b,arguments);k.drain&&0===k.tasks.length+f&&k.drain();k.process()});a(b.data,c)}},length:function(){return k.tasks.length},running:function(){return f}};return k};b.cargo=function(a,c){var e=!1,k=[],g={tasks:k,payload:c,saturated:null,empty:null,drain:null,push:function(a,e){a.constructor!==Array&&(a=[a]);d(a,function(a){k.push({data:a,callback:"function"===typeof e?
e:null});g.saturated&&k.length===c&&g.saturated()});b.setImmediate(g.process)},process:function E(){if(!e)if(0===k.length)g.drain&&g.drain();else{var b="number"===typeof c?k.splice(0,c):k.splice(0),h=f(b,function(a){return a.data});g.empty&&g.empty();e=!0;a(h,function(){e=!1;var a=arguments;d(b,function(b){b.callback&&b.callback.apply(null,a)});E()})}},length:function(){return k.length},running:function(){return e}};return g};q=function(a){return function(b){var c=Array.prototype.slice.call(arguments,
1);b.apply(null,c.concat([function(b){var c=Array.prototype.slice.call(arguments,1);"undefined"!==typeof console&&(b?console.error&&console.error(b):console[a]&&d(c,function(b){console[a](b)}))}]))}};b.log=q("log");b.dir=q("dir");b.memoize=function(a,b){var c={},d={};b=b||function(a){return a};var e=function(){var e=Array.prototype.slice.call(arguments),f=e.pop(),k=b.apply(null,e);k in c?f.apply(null,c[k]):k in d?d[k].push(f):(d[k]=[f],a.apply(null,e.concat([function(){c[k]=arguments;var a=d[k];delete d[k];
for(var b=0,e=a.length;b<e;b++)a[b].apply(null,arguments)}])))};e.memo=c;e.unmemoized=a;return e};b.unmemoize=function(a){return function(){return(a.unmemoized||a).apply(null,arguments)}};b.times=function(a,c,d){for(var e=[],f=0;f<a;f++)e.push(f);return b.map(e,c,d)};b.timesSeries=function(a,c,d){for(var e=[],f=0;f<a;f++)e.push(f);return b.mapSeries(e,c,d)};b.compose=function(){var a=Array.prototype.reverse.call(arguments);return function(){var c=this,d=Array.prototype.slice.call(arguments),e=d.pop();
b.reduce(a,d,function(a,b,d){b.apply(c,a.concat([function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);d(a,b)}]))},function(a,b){e.apply(c,[a].concat(b))})}};q=function(a,b){var c=function(){var c=this,d=Array.prototype.slice.call(arguments),e=d.pop();return a(b,function(a,b){a.apply(c,d.concat([b]))},e)};if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return c.apply(this,d)}return c};b.applyEach=j(q);b.applyEachSeries=s(q);b.forever=function(a,b){function c(d){if(d){if(b)return b(d);
throw d;}a(c)}c()};"undefined"!==typeof z&&z.amd?m[[]]=function(){return b}:"undefined"!==typeof h&&h.exports?h.exports=b:c.async=b})();return h.exports};m["paperclip/lib/clip/buffer.js"]=function(j,h){var g,b,c={}.hasOwnProperty;b=j("bindable/lib/index.js");g=j("paperclip/lib/clip/index.js");var a=function(a,b){this.clippedBuffer=a;this.script=b;var c=this._onUpdated,d=this;this._onUpdated=function(){return c.apply(d,arguments)};this.clip=new g({script:this.script});this.clip.bind("value").watch(!0).to(this._onUpdated)};
a.prototype.dispose=function(){return this.clip.dispose()};a.prototype.update=function(){this.clip.reset(this.clippedBuffer._data);return this.clip.update()};a.prototype._onUpdated=function(a){this.value=a;if(!this.clippedBuffer._updating)return this.clippedBuffer.update()};a.prototype.toString=function(){return String(this.value||"")};var d=function(b){var c,e,f;d.__super__.constructor.call(this);this.buffer=[];this.bindings=[];this._data={};e=0;for(f=b.length;e<f;e++)c=b[e],c.fn?(this.buffer.push(c=
new a(this,c)),this.bindings.push(c)):this.buffer.push(c)},f=d;b=b.Object;var e=function(){this.constructor=f},k;for(k in b)c.call(b,k)&&(f[k]=b[k]);e.prototype=b.prototype;f.prototype=new e;f.__super__=b.prototype;d.prototype.reset=function(a){null==a&&(a={});this._data=a;return this.update()};d.prototype.dispose=function(){var a,b,c,d;d=this.bindings;b=0;for(c=d.length;b<c;b++)a=d[b],a.dispose();return this.bindings=[]};d.prototype.update=function(){var a,b,c,d;this._updating=!0;d=this.bindings;
b=0;for(c=d.length;b<c;b++)a=d[b],a.update();this.set("text",this.text=this.render());return this._updating=!1};d.prototype.render=function(){return this.buffer.join("")};d.prototype.toString=function(){return this.text};h.exports=d;return h.exports};m["paperclip/lib/paper/decor/attrFactory.js"]=function(j,h){var g,b,c,a,d,f;c=j("paperclip/lib/paper/decor/collection.js");b=j("paperclip/lib/clip/buffer.js");g=j("paperclip/lib/clip/index.js");f={css:j("paperclip/lib/paper/decor/attr/css.js"),show:j("paperclip/lib/paper/decor/attr/show.js"),
style:j("paperclip/lib/paper/decor/attr/style.js"),value:j("paperclip/lib/paper/decor/attr/value.js"),click:j("paperclip/lib/paper/decor/attr/click.js"),enter:j("paperclip/lib/paper/decor/attr/enter.js"),disable:j("paperclip/lib/paper/decor/attr/disable.js"),checked:j("paperclip/lib/paper/decor/attr/checked.js")};a=j("paperclip/lib/paper/decor/attr/dataBind.js");d=j("paperclip/lib/paper/decor/attr/text.js");var e=function(){};e.prototype.getDecor=function(e){var h,j,s,m,q,r,u,x;m=new c;if(e.attributes["data-bind"]){m.clip=
s=new g({script:e.attributes["data-bind"][0],watch:!1});x=s.scripts.names;r=0;for(u=x.length;r<u;r++)q=x[r],(h=f[q])?m.push(new h(e,q,s)):m.push(new a(e,q,s))}for(j in e.attributes)m.push(new d(e,j,new b(e.attributes[j])));return m};h.exports=new e;return h.exports};m["bindable/lib/object/setters/fn.js"]=function(j,h){var g={}.hasOwnProperty,b=j("bindable/lib/object/setters/base.js"),c=function(a,b){this.binding=a;this.callback=b;c.__super__.constructor.call(this,this.binding)},a=c,d=function(){this.constructor=
a},f;for(f in b)g.call(b,f)&&(a[f]=b[f]);d.prototype=b.prototype;a.prototype=new d;a.__super__=b.prototype;c.prototype._change=function(a){return this.callback(a)};c.prototype.dispose=function(){return this.callback=null};h.exports=c;return h.exports};m["bindable/lib/object/setters/bindable.js"]=function(j,h){var g={}.hasOwnProperty,b=j("bindable/lib/object/setters/base.js"),c=function(a,b,d){this.binding=a;this.to=b;this.property=d;c.__super__.constructor.call(this,this.binding)},a=c,d=function(){this.constructor=
a},f;for(f in b)g.call(b,f)&&(a[f]=b[f]);d.prototype=b.prototype;a.prototype=new d;a.__super__=b.prototype;c.prototype._change=function(a){return this.to.set(this.property,a)};c.prototype.dispose=function(){if(this._disposable)return this._disposable.dispose(),this._disposable=this.binding=this.to=this.property=null};c.prototype.bothWays=function(){var a=this;return this._disposable=this.to.bind(this.property).to(function(b){if(a.currentValue!==b)return a._changeFrom(b)})};c.prototype._changeFrom=
function(a){var b=this;return this.__transform("from",a,function(a,c){if(a)throw a;return b.binding._from.set(b.binding._property,b.currentValue=c)})};h.exports=c;return h.exports};m["bindable/lib/object/setters/collection.js"]=function(j,h){var g={}.hasOwnProperty,b=j("bindable/lib/object/setters/base.js"),c=function(a,b,d){this.binding=a;this.to=b;this.property=d;c.__super__.constructor.call(this,this.binding)},a=c,d=function(){this.constructor=a},f;for(f in b)g.call(b,f)&&(a[f]=b[f]);d.prototype=
b.prototype;a.prototype=new d;a.__super__=b.prototype;c.prototype._change=function(a){return this.to.reset(a)};c.prototype.dispose=function(){return this.to.disposeSourceBinding()};h.exports=c;return h.exports};m["hoist/lib/transformer.js"]=function(j,h){var g,b,c,a,d,f;f=j("type-component/index.js");g=j("async/lib/async.js");b=function(){return function(a){return"array"===f(a)?a:[a]}};a=function(a){return function(b){return a(b)}};c=function(a){return function(b){return b&&b.constructor===a?b:new a(b)}};
d=function(d){return d===Array?b():d===String||d===Number?a(d):c(d)};h.exports=function(a){var b,c,h,j,m,q,r;null==a&&(a={});r=[];q=[];m=[];j=[];h=function(a,b){return 1<arguments.length&&"function"===f(arguments[arguments.length-1])?h.async(a,b):h.sync.apply(null,arguments)};h.async=function(a,b){return g.eachSeries(r,function(b,c){if(b.async)return b.transform(a,function(b,d){return b?c(b):c(null,a=d)});a=b.transform(a);return c()},function(c){return c?b(c):b(null,a)})};h.sync=function(){var a,
b,c;b=0;for(c=r.length;b<c;b++)a=r[b],arguments[0]=a.transform.apply(null,arguments);return arguments[0]};h.preCast=function(a){return h._push(b(a),q)};h.cast=function(a){return h._push(b(a),j)};h.postCast=function(a){return h._push(b(a),m)};b=function(a){return{transform:d(a)}};h.preMap=function(a){return h._push(c(a),q)};h.map=function(a){return h._push(c(a),j)};h.postMap=function(a){return h._push(c(a),m)};c=function(a){return{async:1<a.length,transform:a}};h._push=function(a,b){b.push(a);r=q.concat(j).concat(m);
return this};return h};return h.exports};m["poolparty/lib/index.js"]=function(j,h){var g=function(b){null==b&&(b={});var c=this.drip,a=this;this.drip=function(){return c.apply(a,arguments)};this.max=b.max||50;this.min=b.min||0;this.staleTimeout=b.staleTimeout||1E3;this.factory=b.factory||b.create;this.recycle=b.recycle;this._pool=[];this._size=0};g.prototype.size=function(){return this._size};g.prototype.drain=function(){var b,c,a;a=[];b=0;for(c=this._size-this.min;0<=c?b<c:b>c;0<=c?++b:--b)a.push(this.drip());
return a};g.prototype.drip=function(){this._dripping=!1;if(this._size)return this._size--,this._pool.shift(),this._timeoutDrip()};g.prototype.create=function(b){var c;if(this._size)return this._size--,c=this._pool.shift(),this.recycle(c,b),c;c=this.factory(b);c.__pool=this;return c};g.prototype.add=function(b){if(b.__pool!==this)return this;!~this._pool.indexOf(b)&&this._size<this.max&&(this._size++,this._pool.push(b),this._timeoutDrip());return this};g.prototype._timeoutDrip=function(){if(!this._dripping)return this._dripping=
!0,setTimeout(this.drip,this.staleTimeout)};h.exports=function(b){return new g(b)};return h.exports};m["bindable/lib/collection/setters/factory.js"]=function(j,h){var g,b,c;b=j("bindable/lib/collection/setters/fn.js");c=j("bindable/lib/collection/setters/object.js");g=j("bindable/lib/collection/setters/collection.js");var a=function(){};a.prototype.createSetter=function(a,f){return!f?null:"function"===typeof f?new b(a,f):f.__isCollection?new g(a,f):f.insert||f.update||f.remove||f.replace?new c(a,
f):null};h.exports=a;return h.exports};m["paperclip/lib/paper/decor/collection.js"]=function(j,h){var g;g=j("async/lib/async.js");var b=function(){this._items=[]};b.prototype.push=function(b){return this._items.push(b)};b.prototype.dispose=function(){var b,a,d,f,e;null!=(b=this.clip)&&b.dispose();f=this._items;e=[];a=0;for(d=f.length;a<d;a++)b=f[a],e.push(b.dispose());return e};b.prototype.load=function(b,a){var d;null!=(d=this.clip)&&d.reset(b,!1);return g.eachSeries(this._items,function(a,d){return a.load(b,
d)},a)};b.prototype.bind=function(){var b,a,d,f,e;if(!this._bound){this._bound=!0;f=this._items;e=[];a=0;for(d=f.length;a<d;a++)b=f[a],e.push(b.bind());return e}};h.exports=b;return h.exports};m["paperclip/lib/paper/decor/block/html.js"]=function(j,h){var g,b={}.hasOwnProperty,c=j("paperclip/lib/paper/decor/block/base.js"),a=function(){return g=a.__super__.constructor.apply(this,arguments)},d=a,f=function(){this.constructor=d},e;for(e in c)b.call(c,e)&&(d[e]=c[e]);f.prototype=c.prototype;d.prototype=
new f;d.__super__=c.prototype;a.prototype.load=function(a,b){var c;c=this.clip.get("html");if(null==c)return b();if("string"===typeof c)return a.buffer.push(c),b();this.child=c.createContent();return this.child.load(a,b)};a.prototype.bind=function(){a.__super__.bind.call(this);return this.child.bind()};a.prototype.dispose=function(){a.__super__.dispose.call(this);return this.child.dispose()};h.exports=a;return h.exports};m["paperclip/lib/paper/decor/block/when.js"]=function(j,h){var g,b={}.hasOwnProperty,
c=j("paperclip/lib/paper/decor/block/base.js"),a=function(){var b=this._onChange,c=this;this._onChange=function(){return b.apply(c,arguments)};return g=a.__super__.constructor.apply(this,arguments)},d=a,f=function(){this.constructor=d},e;for(e in c)b.call(c,e)&&(d[e]=c[e]);f.prototype=c.prototype;d.prototype=new f;d.__super__=c.prototype;a.prototype.load=function(a,b){this.context=a;return this.clip.get("when")?(this.child=this.node.createContent(),this.child.load(a,b)):b()};a.prototype.bind=function(){a.__super__.bind.call(this);
return this.child.bind()};a.prototype._onChange=function(a){return a?this.child=this.node.createContent().attach(this.node,this.context).bind():this.child.dispose()};h.exports=a;return h.exports};m["paperclip/lib/paper/decor/block/with.js"]=function(j,h){var g,b={}.hasOwnProperty,c=j("paperclip/lib/paper/decor/block/base.js"),a=function(){var b=this._onChange,c=this;this._onChange=function(){return b.apply(c,arguments)};return g=a.__super__.constructor.apply(this,arguments)},d=a,f=function(){this.constructor=
d},e;for(e in c)b.call(c,e)&&(d[e]=c[e]);f.prototype=c.prototype;d.prototype=new f;d.__super__=c.prototype;a.scriptName="with";a.prototype.load=function(a,b){this.context=a;this.child=this.node.createContent();return this.child.load(this._childContext(a),b)};a.prototype._childContext=function(a){return a.child(this.clip.get("with"))};a.prototype.bind=function(){a.__super__.bind.call(this);return this.child.bind()};a.prototype._onChange=function(a){return this.child.context.reset(a)};h.exports=a;return h.exports};
m["paperclip/lib/paper/decor/block/each.js"]=function(j,h){var g,b=function(a,b){return function(){return a.apply(b,arguments)}},c={}.hasOwnProperty;g=j("async/lib/async.js");j("pilot-block/lib/index.js");var a=j("paperclip/lib/paper/decor/block/base.js"),d=function(){this._remove=b(this._remove,this);this._insert=b(this._insert,this);d.__super__.constructor.apply(this,arguments)},f=d,e=function(){this.constructor=f},k;for(k in a)c.call(a,k)&&(f[k]=a[k]);e.prototype=a.prototype;f.prototype=new e;
f.__super__=a.prototype;d.prototype.bind=function(){var a,b,c,e,f;d.__super__.bind.call(this);e=this.children;b=0;for(c=e.length;b<c;b++)a=e[b],a.bind();if(null!=(f=this.script.value)&&f.source)return this._ignoreInsert=!0,this.script.value.bind({insert:this._insert,remove:this._remove}),this._ignoreInsert=!1};d.prototype.load=function(a,b){var c,d,e,f;this.context=a;this.children=[];this.itemName=d=null!=(c=this.script.value)&&c.source?this.script.value.source():this.script.value||[];e=0;for(f=d.length;e<
f;e++)c=d[e],this.children.push(this._createChild(c));return g.eachSeries(this.children,function(b,c){return b.load(a,c)},b)};d.prototype._createChild=function(a){var b;b={};b[this.node.clip.get("as")||"item"]=a;b=this.node.createContent(b);b.item=a;return b};d.prototype._insert=function(a){if(!this._ignoreInsert)return this.children.push(a=this._createChild(a)),a.attach(this.node,this.context)};d.prototype._remove=function(a){var b,c,d,e,f,g;f=this.children;g=[];c=d=0;for(e=f.length;d<e;c=++d)if(b=
f[c],b.item===a){this.children.splice(c,1);b.dispose();break}else g.push(void 0);return g};h.exports=d;return h.exports};m["paperclip/lib/paper/decor/block/value.js"]=function(j,h){var g,b={}.hasOwnProperty,c=j("paperclip/lib/paper/decor/block/base.js"),a=function(){return g=a.__super__.constructor.apply(this,arguments)},d=a,f=function(){this.constructor=d},e;for(e in c)b.call(c,e)&&(d[e]=c[e]);f.prototype=c.prototype;d.prototype=new f;d.__super__=c.prototype;a.prototype.load=function(a,b){var c;
c=this.clip.get("value");null!=c&&a.buffer.push(c);return b()};a.prototype._onChange=function(a){return this.node.section.html(a)};h.exports=a;return h.exports};m["paperclip/lib/paper/decor/block/block.js"]=function(j,h){var g,b={}.hasOwnProperty,c=j("paperclip/lib/paper/decor/block/base.js"),a=function(){return g=a.__super__.constructor.apply(this,arguments)},d=a,f=function(){this.constructor=d},e;for(e in c)b.call(c,e)&&(d[e]=c[e]);f.prototype=c.prototype;d.prototype=new f;d.__super__=c.prototype;
a.prototype.load=function(a,b){a.set(this.clip.get("block"),this.node);return b()};h.exports=a;return h.exports};m["paperclip/lib/paper/decor/block/template.js"]=function(j,h){var g,b={}.hasOwnProperty,c=j("paperclip/lib/paper/decor/block/base.js"),a=function(){return g=a.__super__.constructor.apply(this,arguments)},d=a,f=function(){this.constructor=d},e;for(e in c)b.call(c,e)&&(d[e]=c[e]);f.prototype=c.prototype;d.prototype=new f;d.__super__=c.prototype;a.prototype.load=function(a,b){a.internal.set("template."+
(this.clip.get("template.name")||this.clip.get("template")),this);return b()};h.exports=a;return h.exports};m["paperclip/lib/paper/decor/block/view.js"]=function(j,h){var g,b={}.hasOwnProperty,c=j("paperclip/lib/paper/decor/block/base.js"),a=function(){return g=a.__super__.constructor.apply(this,arguments)},d=a,f=function(){this.constructor=d},e;for(e in c)b.call(c,e)&&(d[e]=c[e]);f.prototype=c.prototype;d.prototype=new f;d.__super__=c.prototype;a.prototype.bind=function(){a.__super__.bind.call(this);
return this.child.bind()};a.prototype.dispose=function(){a.__super__.dispose.call(this);return this.child.dispose()};a.prototype.load=function(a,b){var c,d,e,f,g=this;d="template."+(this.clip.get("view.name")||this.clip.get("view"));f=this.clip.get("view.item")||void 0;e=a.internal.get(d);if(!e)return b();c=a.child().detachBuffer();d=function(){c.set("content",c.buffer.join(""));c.attachBuffer();g.child=e.node.createContent();return g.child.load(c.child(f),b)};return this.node.content?this.node.content.load(c,
d):d()};h.exports=a;return h.exports};m["paperclip/lib/paper/decor/attr/css.js"]=function(j,h){var g,b={}.hasOwnProperty,c=j("paperclip/lib/paper/decor/attr/dataBind.js"),a=function(){var b=this._updateCss,c=this;this._updateCss=function(){return b.apply(c,arguments)};return g=a.__super__.constructor.apply(this,arguments)},d=a,f=function(){this.constructor=d},e;for(e in c)b.call(c,e)&&(d[e]=c[e]);f.prototype=c.prototype;d.prototype=new f;d.__super__=c.prototype;a.prototype.bind=function(){a.__super__.bind.call(this);
this._currentClasses={};this.$element=$(this.element);return this.clip.bind("css").to(this._updateCss)};a.prototype._updateCss=function(a){var b,c,d;d=[];for(b in a)(c=a[b])?this._currentClasses[b]?d.push(void 0):(this._currentClasses[b]=1,d.push(this.$element.addClass(b))):this._currentClasses[b]?(delete this._currentClasses[b],d.push(this.$element.removeClass(b))):d.push(void 0);return d};h.exports=a;return h.exports};m["paperclip/lib/paper/decor/attr/show.js"]=function(j,h){var g,b={}.hasOwnProperty,
c=j("paperclip/lib/paper/decor/attr/dataBind.js"),a=function(){var b=this._show,c=this;this._show=function(){return b.apply(c,arguments)};return g=a.__super__.constructor.apply(this,arguments)},d=a,f=function(){this.constructor=d},e;for(e in c)b.call(c,e)&&(d[e]=c[e]);f.prototype=c.prototype;d.prototype=new f;d.__super__=c.prototype;a.prototype.bind=function(){a.__super__.bind.call(this);this.$element=$(this.element);this.clip.bind("show").to(this._show);return this._show(this.clip.get("show"))};
a.prototype._show=function(a){return this.$element.css({display:a?"block":"none"})};h.exports=a;return h.exports};m["paperclip/lib/paper/decor/attr/style.js"]=function(j,h){var g,b={}.hasOwnProperty,c=j("paperclip/lib/paper/decor/attr/dataBind.js"),a=function(){var b=this._updateStyle,c=this;this._updateStyle=function(){return b.apply(c,arguments)};return g=a.__super__.constructor.apply(this,arguments)},d=a,f=function(){this.constructor=d},e;for(e in c)b.call(c,e)&&(d[e]=c[e]);f.prototype=c.prototype;
d.prototype=new f;d.__super__=c.prototype;a.prototype.bind=function(){a.__super__.bind.call(this);this._currentStyles={};this.$element=$(this.element);return this.clip.bind("style").to(this._updateStyle)};a.prototype._updateStyle=function(a){var b,c,d,e;d={};b=!1;for(c in a)e=a[c],e!==this._currentStyles[c]&&(d[c]=this._currentStyles[c]=e,b=!0);if(b)return this.$element.css(d)};h.exports=a;return h.exports};m["paperclip/lib/paper/decor/attr/value.js"]=function(j,h){var g,b,c=function(a,b){return function(){return a.apply(b,
arguments)}},a={}.hasOwnProperty;g=j("underscore/underscore.js");var d=j("paperclip/lib/paper/decor/attr/dataBind.js"),f=function(){this._onChange=c(this._onChange,this);this._onElementChange=c(this._onElementChange,this);return b=f.__super__.constructor.apply(this,arguments)},e=f,k=function(){this.constructor=e},n;for(n in d)a.call(d,n)&&(e[n]=d[n]);k.prototype=d.prototype;e.prototype=new k;e.__super__=d.prototype;f.prototype.bind=function(){f.__super__.bind.call(this);$(this.element).bind("keydown change input",
g.debounce(this._onElementChange,1));return this._onChange(this.clip.get("value"))};f.prototype._onElementChange=function(){var a=this;return setTimeout(function(){var b,c,d,e,f,g;c=a.element.value;if(a.clip.get("bothWays")){f=a.refs;g=[];d=0;for(e=f.length;d<e;d++)b=f[d],g.push(a.context.set(b,c));return g}},5)};f.prototype._onChange=function(a){return this.element.value=this.currentValue=a};h.exports=f;return h.exports};m["paperclip/lib/paper/decor/attr/click.js"]=function(j,h){var g,b={}.hasOwnProperty,
c=j("paperclip/lib/paper/decor/attr/dataBind.js"),a=function(){var b=this._onClicked,c=this;this._onClicked=function(){return b.apply(c,arguments)};return g=a.__super__.constructor.apply(this,arguments)},d=a,f=function(){this.constructor=d},e;for(e in c)b.call(c,e)&&(d[e]=c[e]);f.prototype=c.prototype;d.prototype=new f;d.__super__=c.prototype;a.prototype.watch=!1;a.prototype.bind=function(){a.__super__.bind.call(this);return $(this.element).bind("click",this._onClicked)};a.prototype._onClicked=function(){return this.script.update()};
h.exports=a;return h.exports};m["paperclip/lib/paper/decor/attr/enter.js"]=function(j,h){var g,b={}.hasOwnProperty,c=j("paperclip/lib/paper/decor/attr/dataBind.js"),a=function(){var b=this._onKeyUp,c=this;this._onKeyUp=function(){return b.apply(c,arguments)};return g=a.__super__.constructor.apply(this,arguments)},d=a,f=function(){this.constructor=d},e;for(e in c)b.call(c,e)&&(d[e]=c[e]);f.prototype=c.prototype;d.prototype=new f;d.__super__=c.prototype;a.prototype.watch=!1;a.prototype.bind=function(){a.__super__.bind.call(this);
return $(this.element).bind("keyup",this._onKeyUp)};a.prototype._onKeyUp=function(a){if(13===a.keyCode)return this.script.update()};h.exports=a;return h.exports};m["paperclip/lib/paper/decor/attr/disable.js"]=function(j,h){var g,b={}.hasOwnProperty,c=j("paperclip/lib/paper/decor/attr/dataBind.js"),a=function(){var b=this._show,c=this;this._show=function(){return b.apply(c,arguments)};return g=a.__super__.constructor.apply(this,arguments)},d=a,f=function(){this.constructor=d},e;for(e in c)b.call(c,
e)&&(d[e]=c[e]);f.prototype=c.prototype;d.prototype=new f;d.__super__=c.prototype;a.prototype.bind=function(){a.__super__.bind.call(this);this.$element=$(this.element);this.clip.bind("disable").to(this._show);return this._show(this.clip.get("disable"))};a.prototype._show=function(a){return a?this.$element.attr("disabled","disabled"):this.$element.removeAttr("disabled","disabled")};h.exports=a;return h.exports};m["paperclip/lib/paper/decor/attr/checked.js"]=function(j,h){var g,b={}.hasOwnProperty,
c=j("paperclip/lib/paper/decor/attr/dataBind.js"),a=function(){var b=this._show,c=this;this._show=function(){return b.apply(c,arguments)};return g=a.__super__.constructor.apply(this,arguments)},d=a,f=function(){this.constructor=d},e;for(e in c)b.call(c,e)&&(d[e]=c[e]);f.prototype=c.prototype;d.prototype=new f;d.__super__=c.prototype;a.prototype.bind=function(){a.__super__.bind.call(this);return this.clip.bind("checked").to(this._show)};a.prototype._show=function(a){return this.element.checked=a};
h.exports=a;return h.exports};m["paperclip/lib/paper/decor/attr/dataBind.js"]=function(j,h){var g={}.hasOwnProperty,b=j("paperclip/lib/paper/decor/attr/base.js"),c=function(a,b,d){this.name=b;this.clip=d;var f=this._onChange,g=this;this._onChange=function(){return f.apply(g,arguments)};this.attrName="data-bind";this.script=d.script(this.name);this.refs=this.script.script.refs;c.__super__.constructor.call(this,a)},a=c,d=function(){this.constructor=a},f;for(f in b)g.call(b,f)&&(a[f]=b[f]);d.prototype=
b.prototype;a.prototype=new d;a.__super__=b.prototype;c.prototype.load=function(a,b){!1!==this.watch&&this.script.update();return c.__super__.load.call(this,a,b)};c.prototype.bind=function(){this.clip.bind(this.name).watch(!0).to(this._onChange);this.element=this.node.section.elements[0];if(!1!==this.watch)return this.script.watch()};c.prototype._onChange=function(){};h.exports=c;return h.exports};m["paperclip/lib/paper/decor/attr/text.js"]=function(j,h){var g={}.hasOwnProperty,b=j("paperclip/lib/paper/decor/attr/base.js"),
c=function(a,b,d){this.attrName=b;this.clippedBuffer=d;var f=this._onChange,g=this;this._onChange=function(){return f.apply(g,arguments)};c.__super__.constructor.call(this,a)},a=c,d=function(){this.constructor=a},f;for(f in b)g.call(b,f)&&(a[f]=b[f]);d.prototype=b.prototype;a.prototype=new d;a.__super__=b.prototype;c.prototype.bind=function(){c.__super__.bind.call(this);return this.clippedBuffer.bind("text",this._onChange)};c.prototype.load=function(a,b){this.context=a;this.clippedBuffer.reset(a);
this.clippedBuffer.text.length&&a.buffer.push(" "+this.attrName+'="'+this.clippedBuffer.text+'"');return b()};c.prototype._onChange=function(a){return this.node.section.elements[0].setAttribute(this.attrName,a)};h.exports=c;return h.exports};m["bindable/lib/object/setters/base.js"]=function(j,h){var g;g=j("bindable/lib/core/utils.js");var b=function(b){this.binding=b;this._transformer=this.binding.transform();this.init()};b.prototype.init=function(){var b=this;return this._setValue(this.binding._from.get(this.binding._property),
function(a){if(!b.binding.watch())return b._change(a)})};b.prototype.change=function(b){var a=this;return this._setValue(b,function(b){return a._change(b)})};b.prototype._setValue=function(b,a){var d=this;if(this.currentValue===b)return!1;this.__transform("to",b,function(b,c){if(b)throw b;return a(d.currentValue=c)});return!0};b.prototype.bothWays=function(){};b.prototype._change=function(){};b.prototype.__transform=function(b,a,d){return g.tryTransform(this._transformer,b,a,d)};h.exports=b;return h.exports};
m["bindable/lib/collection/setters/fn.js"]=function(j,h){var g,b={}.hasOwnProperty,c=j("bindable/lib/collection/setters/base.js"),a=function(){return g=a.__super__.constructor.apply(this,arguments)},d=a,f=function(){this.constructor=d},e;for(e in c)b.call(c,e)&&(d[e]=c[e]);f.prototype=c.prototype;d.prototype=new f;d.__super__=c.prototype;a.prototype.init=function(){var b,c,d,e,f;a.__super__.init.call(this);e=this.binding._from.source();f=[];b=c=0;for(d=e.length;c<d;b=++c)b=e[b],f.push(this.change("insert",
b));return f};a.prototype._change=function(a,b){return this.target(a,b)};h.exports=a;return h.exports};m["bindable/lib/collection/setters/object.js"]=function(j,h){var g,b,c,a={}.hasOwnProperty;b=j("underscore/underscore.js");g=j("bindable/lib/collection/setters/fn.js");var d=j("bindable/lib/collection/setters/base.js"),f=function(){return c=f.__super__.constructor.apply(this,arguments)},e=f,k=function(){this.constructor=e},n;for(n in d)a.call(d,n)&&(e[n]=d[n]);k.prototype=d.prototype;e.prototype=
new k;e.__super__=d.prototype;f.prototype.init=function(){var a=this;b.defaults(this.target,{insert:function(){},remove:function(){},update:function(){}});return this._setter=new g(this.binding,function(b,c,d){return a.target[b].call(a.target,c,d)})};f.prototype._change=function(){return this._setter._change.apply(this._setter,arguments)};h.exports=f;return h.exports};m["bindable/lib/collection/setters/collection.js"]=function(j,h){var g,b,c={}.hasOwnProperty;g=j("bindable/lib/collection/setters/object.js");
var a=j("bindable/lib/collection/setters/base.js"),d=function(){return b=d.__super__.constructor.apply(this,arguments)},f=d,e=function(){this.constructor=f},k;for(k in a)c.call(a,k)&&(f[k]=a[k]);e.prototype=a.prototype;f.prototype=new e;f.__super__=a.prototype;d.prototype.init=function(){var a,b=this;d.__super__.init.call(this);return this._setter=new g(this.binding,a={insert:function(c){b.binding._copyId&&b.target._id(b.binding._from._id());return~b.target.indexOf(c)?a.update(c):b.target.push(c)},
update:function(a){return b.target.update(a)},remove:function(a){a=b.target.indexOf(a);if(~a)return b.target.splice(a,1)}})};d.prototype._change=function(){return this._setter._change.apply(this._setter,arguments)};d.prototype.bothWays=function(){throw Error("cannot bind both ways yet");};h.exports=d;return h.exports};m["paperclip/lib/paper/decor/block/base.js"]=function(j,h){var g=function(b,c){this.node=b;this.scriptName=c;var a=this._onChange,d=this;this._onChange=function(){return a.apply(d,arguments)};
this.script=b.clip.script(this.scriptName);this.clip=b.clip};g.prototype.load=function(b,c){return c()};g.prototype.bind=function(){return this.clip.bind(this.scriptName).watch(!0).to(this._onChange)};g.prototype.dispose=function(){};g.prototype._onChange=function(){};g.test=function(){return!1};h.exports=g;return h.exports};m["underscore/underscore.js"]=function(j,h,g){(function(){var b=this,c=b._,a={},d=Array.prototype,f=Object.prototype,e=d.push,j=d.slice,n=d.concat,m=f.toString,s=f.hasOwnProperty,
v=d.forEach,q=d.map,r=d.reduce,u=d.reduceRight,x=d.filter,w=d.every,y=d.some,D=d.indexOf,z=d.lastIndexOf,f=Array.isArray,E=Object.keys,F=Function.prototype.bind,l=function(a){if(a instanceof l)return a;if(!(this instanceof l))return new l(a);this._wrapped=a};"undefined"!==typeof g?("undefined"!==typeof h&&h.exports&&(g=h.exports=l),g._=l):b._=l;l.VERSION="1.4.4";var t=l.each=l.forEach=function(b,c,d){if(null!=b)if(v&&b.forEach===v)b.forEach(c,d);else if(b.length===+b.length)for(var e=0,f=b.length;e<
f&&c.call(d,b[e],e,b)!==a;e++);else for(e in b)if(l.has(b,e)&&c.call(d,b[e],e,b)===a)break};l.map=l.collect=function(a,b,c){var d=[];if(null==a)return d;if(q&&a.map===q)return a.map(b,c);t(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)});return d};l.reduce=l.foldl=l.inject=function(a,b,c,d){var e=2<arguments.length;null==a&&(a=[]);if(r&&a.reduce===r)return d&&(b=l.bind(b,d)),e?a.reduce(b,c):a.reduce(b);t(a,function(a,f,M){e?c=b.call(d,c,a,f,M):(c=a,e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");
return c};l.reduceRight=l.foldr=function(a,b,c,d){var e=2<arguments.length;null==a&&(a=[]);if(u&&a.reduceRight===u)return d&&(b=l.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f)var g=l.keys(a),f=g.length;t(a,function(j,h,k){h=g?g[--f]:--f;e?c=b.call(d,c,a[h],h,k):(c=a[h],e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c};l.find=l.detect=function(a,b,c){var d;B(a,function(a,e,f){if(b.call(c,a,e,f))return d=a,!0});return d};l.filter=
l.select=function(a,b,c){var d=[];if(null==a)return d;if(x&&a.filter===x)return a.filter(b,c);t(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)});return d};l.reject=function(a,b,c){return l.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)};l.every=l.all=function(b,c,d){c||(c=l.identity);var e=!0;if(null==b)return e;if(w&&b.every===w)return b.every(c,d);t(b,function(b,f,g){if(!(e=e&&c.call(d,b,f,g)))return a});return!!e};var B=l.some=l.any=function(b,c,d){c||(c=l.identity);var e=!1;if(null==
b)return e;if(y&&b.some===y)return b.some(c,d);t(b,function(b,f,g){if(e||(e=c.call(d,b,f,g)))return a});return!!e};l.contains=l.include=function(a,b){return null==a?!1:D&&a.indexOf===D?-1!=a.indexOf(b):B(a,function(a){return a===b})};l.invoke=function(a,b){var c=j.call(arguments,2),d=l.isFunction(b);return l.map(a,function(a){return(d?b:a[b]).apply(a,c)})};l.pluck=function(a,b){return l.map(a,function(a){return a[b]})};l.where=function(a,b,c){return l.isEmpty(b)?c?null:[]:l[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==
a[c])return!1;return!0})};l.findWhere=function(a,b){return l.where(a,b,!0)};l.max=function(a,b,c){if(!b&&l.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!b&&l.isEmpty(a))return-Infinity;var d={computed:-Infinity,value:-Infinity};t(a,function(a,e,f){e=b?b.call(c,a,e,f):a;e>=d.computed&&(d={value:a,computed:e})});return d.value};l.min=function(a,b,c){if(!b&&l.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!b&&l.isEmpty(a))return Infinity;var d=
{computed:Infinity,value:Infinity};t(a,function(a,e,f){e=b?b.call(c,a,e,f):a;e<d.computed&&(d={value:a,computed:e})});return d.value};l.shuffle=function(a){var b,c=0,d=[];t(a,function(a){b=l.random(c++);d[c-1]=d[b];d[b]=a});return d};var H=function(a){return l.isFunction(a)?a:function(b){return b[a]}};l.sortBy=function(a,b,c){var d=H(b);return l.pluck(l.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===
c)return 1;if(c<d||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var C=function(a,b,c,d){var e={},f=H(b||l.identity);t(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)});return e};l.groupBy=function(a,b,c){return C(a,b,c,function(a,b,c){(l.has(a,b)?a[b]:a[b]=[]).push(c)})};l.countBy=function(a,b,c){return C(a,b,c,function(a,b){l.has(a,b)||(a[b]=0);a[b]++})};l.sortedIndex=function(a,b,c,d){c=null==c?l.identity:H(c);b=c.call(d,b);for(var e=0,f=a.length;e<f;){var g=e+f>>>1;c.call(d,a[g])<
b?e=g+1:f=g}return e};l.toArray=function(a){return!a?[]:l.isArray(a)?j.call(a):a.length===+a.length?l.map(a,l.identity):l.values(a)};l.size=function(a){return null==a?0:a.length===+a.length?a.length:l.keys(a).length};l.first=l.head=l.take=function(a,b,c){return null==a?void 0:null!=b&&!c?j.call(a,0,b):a[0]};l.initial=function(a,b,c){return j.call(a,0,a.length-(null==b||c?1:b))};l.last=function(a,b,c){return null==a?void 0:null!=b&&!c?j.call(a,Math.max(a.length-b,0)):a[a.length-1]};l.rest=l.tail=l.drop=
function(a,b,c){return j.call(a,null==b||c?1:b)};l.compact=function(a){return l.filter(a,l.identity)};var J=function(a,b,c){t(a,function(a){l.isArray(a)?b?e.apply(c,a):J(a,b,c):c.push(a)});return c};l.flatten=function(a,b){return J(a,b,[])};l.without=function(a){return l.difference(a,j.call(arguments,1))};l.uniq=l.unique=function(a,b,c,d){l.isFunction(b)&&(d=c,c=b,b=!1);c=c?l.map(a,c,d):a;var e=[],f=[];t(c,function(c,d){if(b?!d||f[f.length-1]!==c:!l.contains(f,c))f.push(c),e.push(a[d])});return e};
l.union=function(){return l.uniq(n.apply(d,arguments))};l.intersection=function(a){var b=j.call(arguments,1);return l.filter(l.uniq(a),function(a){return l.every(b,function(b){return 0<=l.indexOf(b,a)})})};l.difference=function(a){var b=n.apply(d,j.call(arguments,1));return l.filter(a,function(a){return!l.contains(b,a)})};l.zip=function(){for(var a=j.call(arguments),b=l.max(l.pluck(a,"length")),c=Array(b),d=0;d<b;d++)c[d]=l.pluck(a,""+d);return c};l.object=function(a,b){if(null==a)return{};for(var c=
{},d=0,e=a.length;d<e;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c};l.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c)if("number"==typeof c)d=0>c?Math.max(0,e+c):c;else return d=l.sortedIndex(a,b),a[d]===b?d:-1;if(D&&a.indexOf===D)return a.indexOf(b,c);for(;d<e;d++)if(a[d]===b)return d;return-1};l.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(z&&a.lastIndexOf===z)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(c=d?c:a.length;c--;)if(a[c]===b)return c;return-1};
l.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0);c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=Array(d);e<d;)f[e++]=a,a+=c;return f};l.bind=function(a,b){if(a.bind===F&&F)return F.apply(a,j.call(arguments,1));var c=j.call(arguments,2);return function(){return a.apply(b,c.concat(j.call(arguments)))}};l.partial=function(a){var b=j.call(arguments,1);return function(){return a.apply(this,b.concat(j.call(arguments)))}};l.bindAll=function(a){var b=j.call(arguments,1);0===b.length&&
(b=l.functions(a));t(b,function(b){a[b]=l.bind(a[b],a)});return a};l.memoize=function(a,b){var c={};b||(b=l.identity);return function(){var d=b.apply(this,arguments);return l.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}};l.delay=function(a,b){var c=j.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)};l.defer=function(a){return l.delay.apply(l,[a,1].concat(j.call(arguments,1)))};l.throttle=function(a,b){var c,d,e,f,g=0,h=function(){g=new Date;e=null;f=a.apply(c,d)};return function(){var j=
new Date,k=b-(j-g);c=this;d=arguments;0>=k?(clearTimeout(e),e=null,g=j,f=a.apply(c,d)):e||(e=setTimeout(h,k));return f}};l.debounce=function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=c&&!d;clearTimeout(d);d=setTimeout(function(){d=null;c||(e=a.apply(f,g))},b);h&&(e=a.apply(f,g));return e}};l.once=function(a){var b=!1,c;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};l.wrap=function(a,b){return function(){var c=[a];e.apply(c,arguments);return b.apply(this,
c)}};l.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;0<=c;c--)b=[a[c].apply(this,b)];return b[0]}};l.after=function(a,b){return 0>=a?b():function(){if(1>--a)return b.apply(this,arguments)}};l.keys=E||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],c;for(c in a)l.has(a,c)&&(b[b.length]=c);return b};l.values=function(a){var b=[],c;for(c in a)l.has(a,c)&&b.push(a[c]);return b};l.pairs=function(a){var b=[],c;for(c in a)l.has(a,c)&&b.push([c,
a[c]]);return b};l.invert=function(a){var b={},c;for(c in a)l.has(a,c)&&(b[a[c]]=c);return b};l.functions=l.methods=function(a){var b=[],c;for(c in a)l.isFunction(a[c])&&b.push(c);return b.sort()};l.extend=function(a){t(j.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]});return a};l.pick=function(a){var b={},c=n.apply(d,j.call(arguments,1));t(c,function(c){c in a&&(b[c]=a[c])});return b};l.omit=function(a){var b={},c=n.apply(d,j.call(arguments,1)),e;for(e in a)l.contains(c,e)||(b[e]=a[e]);
return b};l.defaults=function(a){t(j.call(arguments,1),function(b){if(b)for(var c in b)null==a[c]&&(a[c]=b[c])});return a};l.clone=function(a){return!l.isObject(a)?a:l.isArray(a)?a.slice():l.extend({},a)};l.tap=function(a,b){b(a);return a};var G=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof l&&(a=a._wrapped);b instanceof l&&(b=b._wrapped);var e=m.call(a);if(e!=m.call(b))return!1;switch(e){case "[object String]":return a==String(b);case "[object Number]":return a!=
+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;c.push(a);d.push(b);var f=0,g=!0;if("[object Array]"==e){if(f=a.length,g=f==b.length)for(;f--&&(g=G(a[f],b[f],c,d)););}else{var e=a.constructor,h=b.constructor;if(e!==h&&(!l.isFunction(e)||!(e instanceof
e&&l.isFunction(h)&&h instanceof h)))return!1;for(var j in a)if(l.has(a,j)&&(f++,!(g=l.has(b,j)&&G(a[j],b[j],c,d))))break;if(g){for(j in b)if(l.has(b,j)&&!f--)break;g=!f}}c.pop();d.pop();return g};l.isEqual=function(a,b){return G(a,b,[],[])};l.isEmpty=function(a){if(null==a)return!0;if(l.isArray(a)||l.isString(a))return 0===a.length;for(var b in a)if(l.has(a,b))return!1;return!0};l.isElement=function(a){return!!(a&&1===a.nodeType)};l.isArray=f||function(a){return"[object Array]"==m.call(a)};l.isObject=
function(a){return a===Object(a)};t("Arguments Function String Number Date RegExp".split(" "),function(a){l["is"+a]=function(b){return m.call(b)=="[object "+a+"]"}});l.isArguments(arguments)||(l.isArguments=function(a){return!(!a||!l.has(a,"callee"))});"function"!==typeof/./&&(l.isFunction=function(a){return"function"===typeof a});l.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};l.isNaN=function(a){return l.isNumber(a)&&a!=+a};l.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==
m.call(a)};l.isNull=function(a){return null===a};l.isUndefined=function(a){return void 0===a};l.has=function(a,b){return s.call(a,b)};l.noConflict=function(){b._=c;return this};l.identity=function(a){return a};l.times=function(a,b,c){for(var d=Array(a),e=0;e<a;e++)d[e]=b.call(c,e);return d};l.random=function(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};var A={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};A.unescape=l.invert(A.escape);var K=
{escape:RegExp("["+l.keys(A.escape).join("")+"]","g"),unescape:RegExp("("+l.keys(A.unescape).join("|")+")","g")};l.each(["escape","unescape"],function(a){l[a]=function(b){return null==b?"":(""+b).replace(K[a],function(b){return A[a][b]})}});l.result=function(a,b){if(null==a)return null;var c=a[b];return l.isFunction(c)?c.call(a):c};l.mixin=function(a){t(l.functions(a),function(b){var c=l[b]=a[b];l.prototype[b]=function(){var a=[this._wrapped];e.apply(a,arguments);a=c.apply(l,a);return this._chain?
l(a).chain():a}})};var L=0;l.uniqueId=function(a){var b=++L+"";return a?a+b:b};l.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},O=/\\|'|\r|\n|\t|\u2028|\u2029/g;l.template=function(a,b,c){var d;c=l.defaults({},c,l.templateSettings);var e=RegExp([(c.escape||I).source,(c.interpolate||I).source,(c.evaluate||I).source].join("|")+"|$","g"),f=0,g="__p+='";
a.replace(e,function(b,c,d,e,h){g+=a.slice(f,h).replace(O,function(a){return"\\"+N[a]});c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'");d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'");e&&(g+="';\n"+e+"\n__p+='");f=h+b.length;return b});g+="';\n";c.variable||(g="with(obj||{}){\n"+g+"}\n");g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h;}if(b)return d(b,l);
b=function(a){return d.call(this,a,l)};b.source="function("+(c.variable||"obj")+"){\n"+g+"}";return b};l.chain=function(a){return l(a).chain()};l.mixin(l);t("pop push reverse shift sort splice unshift".split(" "),function(a){var b=d[a];l.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);("shift"==a||"splice"==a)&&0===c.length&&delete c[0];return this._chain?l(c).chain():c}});t(["concat","join","slice"],function(a){var b=d[a];l.prototype[a]=function(){var a=b.apply(this._wrapped,arguments);
return this._chain?l(a).chain():a}});l.extend(l.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this);return h.exports};m["paperclip/lib/paper/decor/attr/base.js"]=function(j,h){var g=function(b){this.node=b};g.prototype.load=function(b,c){this.context=b;return c()};g.prototype.bind=function(){};g.prototype.dispose=function(){};h.exports=g;return h.exports};m["bindable/lib/collection/setters/base.js"]=function(j,h){var g;g=j("bindable/lib/core/utils.js");
var b=function(b,a){this.binding=b;this.target=a;this._transformer=b.transform();this._filter=b.filter();this.init()};b.prototype.init=function(){};b.prototype.dispose=function(){};b.prototype.change=function(b,a){var d=this;return this._filter&&!this._filter(a)?void 0:this.__transform("to",a,function(a,e){if(a)throw a;return d._change(b,e)})};b.prototype._change=function(){};b.prototype.bothWays=function(){};b.prototype.__transform=function(b,a,d){return g.tryTransform(this._transformer,b,a,d)};
h.exports=b;return h.exports};for(var B=["paperclip/lib/index.js"],C=B.length;C--;)y(B[C])})();
