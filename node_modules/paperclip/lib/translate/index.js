// Generated by CoffeeScript 1.6.2
var parse, scripts, templateParser;

templateParser = require("./template/parser");

exports.parse = parse = function(content, options) {
  if (options == null) {
    options = {};
  }
  content = templateParser.parse(content);
  return String(content);
};

scripts = {};

exports.compile = function(nameOrContent) {
  var content, module;

  module = {
    exports: {}
  };
  if (scripts[nameOrContent]) {
    return scripts[nameOrContent];
  }
  if (typeof $ !== "undefined") {
    content = $("script[data-template-name='" + nameOrContent + "']").html();
  }
  if (!content) {
    content = nameOrContent;
  }
  eval(parse(content));
  return scripts[nameOrContent] = module.exports;
};

if (typeof (typeof window !== "undefined" && window !== null ? window.paperclip : void 0) !== "undefined") {
  window.paperclip.compile = exports.compile;
  window.paperclip.script = exports.script;
  window.paperclip.template.compiler = exports;
}
