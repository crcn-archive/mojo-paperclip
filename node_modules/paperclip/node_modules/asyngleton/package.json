{
  "author": {
    "name": "Craig Condon"
  },
  "name": "asyngleton",
  "description": "asynchronously generate singletons",
  "version": "0.1.3",
  "repository": {
    "type": "git",
    "url": "git://github.com/crcn/asyngleton.js.git"
  },
  "main": "./lib/index.js",
  "dependencies": {},
  "devDependencies": {
    "structr": "*",
    "expect.js": "0.2.x",
    "mocha": "1.8.x"
  },
  "readme": "[![build status](https://secure.travis-ci.org/crcn/asyngleton.js.png)](http://travis-ci.org/crcn/asyngleton.js)\n### Example\n\n```javascript\n\nvar asyngleton = require('../'),\nfs = require('fs');\n\n//called ONCE\nvar readDir = asyngleton(function(callback) {\n\tfs.readdir(__dirname, callback);\n})\n\n//initializes the singleton method above\nreadDir(function(err, files) {\n\t//do stuff\n})\n\n//called after there's a result\nreadDir(function(err, files) {\n\t//do stuff\n});\n\n```\n\n\n### API\n\n#### asyngleton(factory)\n\nCreates a new asyngleton function.\n\n- `factory` - the factory method for creating the singleton. This is called ONCE.\n\n#### .reset()\n\nResets the target asyngleton so the factory can be called again.\n\n```javascript\n\nvar fs     = require('fs'),\nasyngleton = require('asyngleton');\n\nvar readDir = asyngleton(function(callback) {\n\tfs.readdir(__dirname, callback);\n});\n\nreadDir(function(err, files) {\n\t\n\t//make the readDir factory callable again\n\treadDir.reset();\n\n\t//do stuff...\n});\n\n```\n\n#### .dictionary()\n\ncreates a dictionary of singletons\n\n```javascript\n\nvar dict = require('asyngleton').dictionary(),\nfs = require('fs');\n\nvar readThisDir = dict.get(\"readThisDir\", function(onSingleton) {\n\tfs.read(__dirname, onSingleton);\n});\n\nvar readLibDir = dict.get(\"readLibDir\", function(onSingleton) {\n\tfs.read(__dirname + \"/lib\", onSingleton);\n})\n\nreadThisDir(function(err, files) {\n\t//do stuff\n});\n\nreadLibDir(function(err, files) {\n\t//do stuff\n});\n```\n\n#### dictionary.get(name, factory)\n\n- `name` - the name of the singleton in the dictionary\n- `factory` - the factory method incase the singleton doesn't exist\n\n\n### [Structr](/crcn/structr.js) Integration\n\n\n```javascript\n\nvar structr = require(\"structr\");\nstructr.mixin(require(\"asyngleton\"));\n\n\nvar TestClass = structr({\n\t\t\n\t/**\n\t */\n\n\t\"singleton load\": function(onLoad) {\n\t\tfs.readFile(__dirname + \"/config.json\", onLoad);\n\t}\n});\n\nvar test = new TestClass();\n\ntest.load(function(config) {\n\t\n});\n\n//fs.readFile is NOT called again at this point\ntest.load(function(config) {\n\t\n});\n```",
  "readmeFilename": "README.md",
  "_id": "asyngleton@0.1.3",
  "_from": "asyngleton@0.1.x"
}
